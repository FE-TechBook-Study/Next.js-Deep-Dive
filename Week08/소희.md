# Bundle Analyzer

@next/bundle-analyzer는 Next.js에서 자바스크립트 모듈의 크기를 관리하는 데 도움이 되는 플러그인이다.

이 플러그인은 각 모듈과 해당 종속성의 크기에 대한 시각적 보고서를 생성한다.

이 정보를 활용하면 다음과 같은 작업을 수행할 수 있다.

- **큰 종속성 제거**
- **코드 분할 (Code Splitting)**
- **일부 모듈만 로드하여 클라이언트로 전송되는 데이터량 감소**

### 설치

```jsx
npm i @next/bundle-analyzer
# 또는
yarn add @next/bundle-analyzer
# 또는
pnpm add @next/bundle-analyzer
```

### **next.config.js 설정**

```jsx
const withBundleAnalyzer = require("@next/bundle-analyzer")({
  enabled: process.env.ANALYZE === "true",
});

/** @type {import('next').NextConfig} */
const nextConfig = {};

module.exports = withBundleAnalyzer(nextConfig);
```

위 코드에서 환경 변수 ANALYZE를 true로 설정해야 번들 분석이 실행된다.

### 번들 분석 실행하기

```jsx
ANALYZE=true npm run build
# 또는
ANALYZE=true yarn build
# 또는
ANALYZE=true pnpm build
```

명령어 실행 후 브라우저에서 세 개의 새 탭이 열리며 번들 분석 보고서를 확인할 수 있다.

개발 중 또는 배포 전에 정기적으로 번들 크기를 분석하면 큰 번들을 조기에 식별할 수 있으며,

이를 기반으로 애플리케이션을 더 성능 최적화된 구조로 설계할 수 있다.
