# í•˜ë¦°

# Images

## Usage

```tsx
import Image from "next/image";
```

### Local Images

app ë””ë ‰í† ë¦¬ ë‚´ë¶€ì— ìˆëŠ” ë¡œì»¬ ì´ë¯¸ì§€ (`.jpg`, `.png`, `.webp`)ëŠ” ì§ì ‘ importí•©ë‹ˆë‹¤.

Next.jsê°€ ìë™ìœ¼ë¡œ ì´ë¯¸ì§€ì˜ `width`, `height`ë¥¼ ë¶„ì„í•˜ê³  ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ (CLS)ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.

```tsx
import Image from "next/image";
import profilePic from "./me.png";

export default function Page() {
  return (
    <Image
      src={profilePic}
      alt="Picture of the author"
      // width, heightëŠ” ìë™ìœ¼ë¡œ ì œê³µë¨
      // placeholder="blur" ì˜µì…˜ìœ¼ë¡œ ë¡œë”© ì¤‘ ë¸”ëŸ¬ íš¨ê³¼ ê°€ëŠ¥
    />
  );
}
```

### Remote Images

URL stringìœ¼ë¡œ srcë¥¼ ì§€ì •í•´ì¤ë‹ˆë‹¤.

ë¹Œë“œ ê³¼ì •ì— ì›ê²© íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì–´ CLS ë°©ì§€ë¥¼ ìœ„í•´ `width`, `height`ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.

`next.config.js`ì—ì„œ í—ˆìš©í•  í˜¸ìŠ¤íŠ¸ íŒ¨í„´ì„ ë¯¸ë¦¬ ì •ì˜í•˜ì—¬ ì•…ì˜ì ì¸ ì‚¬ìš©ì„ ë°©ì§€í•©ë‹ˆë‹¤.

```tsx
<Image
  src="https://s3.amazonaws.com/my-bucket/profile.png"
  alt="Picture of the author"
  width={500}
  height={500}
/>
```

```tsx
// next.config.js
odule.exports = {
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "s3.amazonaws.com",
        port: "",
        pathname: "/my-bucket/**",
      },
    ],
  },
};
```

### Loaders

- ì´ë¯¸ì§€ URLì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
- ë‹¤ì–‘í•œ í¬ê¸°ì˜ ì´ë¯¸ì§€ URL ìƒì„±í•˜ì—¬ `srcset` ìë™ ìƒì„±
- ë°©ë¬¸ìì˜ ë·°í¬íŠ¸ì— ë§ëŠ” ìµœì í™”ëœ ì´ë¯¸ì§€ ì œê³µ
- ê¸°ë³¸ loaderëŠ” Next.jsì˜ ì´ë¯¸ì§€ ìµœì í™” API ì‚¬ìš©
- ì»¤ìŠ¤í…€ loader ì •ì˜ ê°€ëŠ¥ (CDNì´ë‚˜ ì´ë¯¸ì§€ ì„œë²„ ì‚¬ìš© ì‹œ)

### Priority

- LCPê°€ ë  ì´ë¯¸ì§€ì— priority ì†ì„±ì„ ì¶”ê°€í•˜ë©´ ì´ë¥¼ íŠ¹ë³„íˆ ìš°ì„ ì‹œí•˜ì—¬ LCPë¥¼ ì˜ë¯¸ìˆê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Image Sizing

ì´ë¯¸ì§€ê°€ ì›¹ ì„±ëŠ¥ì— ê°€ì¥ í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì€ ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ ë•Œë¬¸ì´ë©°, ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” í•­ìƒ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì§€ì •í•˜ê³  ë¸Œë¼ìš°ì €ê°€ ì´ë¯¸ì§€ ë¡œë“œ ì „ì— ì •í™•í•œ ê³µê°„ì„ í™•ë³´í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.

- ì´ë¯¸ì§€ í¬ê¸° ì§€ì • ë°©ë²•
  - ì •ì  importë¥¼ í†µí•œ ìë™ ì„¤ì •
  - `width`, `height` ì†ì„± ì§ì ‘ ì§€ì •
  - `fill` ì†ì„±ì„ ì‚¬ìš©í•´ ë¶€ëª¨ ìš”ì†Œì— ë§ì¶”ê¸°
    <aside>
    ğŸ’¡ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ëª¨ë¥´ëŠ” ê²½ìš°
    - fill ì†ì„± ì‚¬ìš©
    - ì´ë¯¸ì§€ í‘œì¤€í™”
    - API í˜¸ì¶œ ìˆ˜ì •í•˜ì—¬ ì´ë¯¸ì§€ í¬ê¸° ì •ë³´ ë°›ê¸°
    
    </aside>


## Styling

- `className`, `style` prop ì‚¬ìš© ê¶Œì¥
- `styled-jsx`ëŠ” ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ì—¬
- fill ì‚¬ìš© ì‹œ ë¶€ëª¨ ìš”ì†Œì— í•„ìš”í•œ ì„¤ì • { `position` : `â€˜relativeâ€™` `display` : `â€˜blockâ€™` }

---

# Video

## video embedding method

- `<video>` : ì§ì ‘ í˜¸ìŠ¤íŒ…í•˜ëŠ” ë¹„ë””ì˜¤ìš©
- `<iframe>` : youtube, vimeo ê°™ì€ ì™¸ë¶€ í”Œë«í¼ ë¹„ë””ì˜¤ìš©

## `<video>`

- ê¸°ë³¸ ì†ì„± : `width`, `height`, `controls`, `autoPlay`, `loop`, `muted`, `preload`
- ì ‘ê·¼ì„± : ìë§‰ ì§€ì›, ëŒ€ì²´ ì½˜í…ì¸  ì œê³µ
- ì»¨íŠ¸ë¡¤ëŸ¬ : ê¸°ë³¸ HTML5 ì»¨íŠ¸ë¡¤ ë˜ëŠ” ì¨ë“œíŒŒí‹° í”Œë ˆì´ì–´ ì‚¬ìš© ê°€ëŠ¥

## Hosting

- self-hosted
  - ì™„ì „í•œ ì œì–´ ê°€ëŠ¥
  - Vercel Blob ë“±ì„ í†µí•œ ì €ì¥ì†Œ í™œìš©
  - ì»¤ìŠ¤í„°ë§ˆì´ì§• ììœ ë„ ë†’ìŒ
- ì™¸ë¶€ í”Œë«í¼
  - ì‰¬ìš´ êµ¬í˜„
  - í”Œë«í¼ ì œê³µ ê¸°ëŠ¥ í™œìš©
  - ì œí•œëœ ì œì–´

## ìµœì í™”

- React Suspenseë¥¼ ì‚¬ìš©í•œ ìŠ¤íŠ¸ë¦¬ë°
- ìŠ¤ì¼ˆë ˆí†¤ êµ¬í˜„
- ë°˜ì‘í˜• ë””ìì¸ ì ìš©
- CDN í™œìš©

---

# Font Optimization

- ìë™ í°íŠ¸ ìµœì í™”
- ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì œê±°
- ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ ë°©ì§€
- ë¹Œë“œì‹œ í°íŠ¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° ì…€í”„ í˜¸ìŠ¤íŒ…

## Google Fonts

```jsx
import { Inter } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  display: "swap",
});
```

- ìë™ ì…€í”„ í˜¸ìŠ¤íŒ…
- ë¸Œë¼ìš°ì €ì—ì„œ êµ¬ê¸€ë¡œ ìš”ì²­í•˜ì§€ ì•ŠìŒ
- variable fonts ì‚¬ìš© ê¶Œì¥
- ìë™ìœ¼ë¡œ ì„œë¸Œì…‹ë˜ì–´ íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì´ê³  ì„±ëŠ¥ í–¥ìƒ

## Using Multiple Fonts

- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ í†µí•œ ë°©ë²•
  ```jsx
  // app/fonts.ts - í°íŠ¸ ì •ì˜ íŒŒì¼
  import { Inter, Roboto_Mono } from 'next/font/google'

  export const inter = Inter({
    subsets: ['latin'],
    display: 'swap',
  })

  export const roboto_mono = Roboto_Mono({
    subsets: ['latin'],
    display: 'swap',
  })

  // app/layout.tsx - ì „ì—­ ë ˆì´ì•„ì›ƒ
  import { inter } from './fonts'

  export default function Layout({ children }: { children: React.ReactNode }) {
    return (
      <html lang="en" className={inter.className}>
        <body>
          <div>{children}</div>
        </body>
      </html>
    )
  }

  // app/page.tsx - íŠ¹ì • í˜ì´ì§€ì—ì„œ ì‚¬ìš©
  import { roboto_mono } from './fonts'

  export default function Page() {
    return (
      <>
        <h1 className={roboto_mono.className}>ì œëª©</h1>
        <p>ê¸°ë³¸ í…ìŠ¤íŠ¸ëŠ” Inter í°íŠ¸ ì‚¬ìš©</p>
      </>
    )
  }
  ```
- CSS ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë°©ë²•
  ```jsx
  // app/layout.tsx
  import { Inter, Roboto_Mono } from 'next/font/google'

  const inter = Inter({
    subsets: ['latin'],
    variable: '--font-inter',  // CSS ë³€ìˆ˜ëª… ì§€ì •
    display: 'swap',
  })

  const roboto_mono = Roboto_Mono({
    subsets: ['latin'],
    variable: '--font-roboto-mono',  // CSS ë³€ìˆ˜ëª… ì§€ì •
    display: 'swap',
  })

  export default function RootLayout({
    children,
  }: {
    children: React.ReactNode
  }) {
    return (
      <html lang="en" className={`${inter.variable} ${roboto_mono.variable}`}>
        <body>
          <h1>My App</h1>
          <div>{children}</div>
        </body>
      </html>
    )
  }

  // app/global.css
  html {
    font-family: var(--font-inter);
  }

  h1 {
    font-family: var(--font-roboto-mono);
  }

  // Tailwind CSSì™€ í•¨ê»˜ ì‚¬ìš©í•  ê²½ìš° - tailwind.config.js
  module.exports = {
    theme: {
      extend: {
        fontFamily: {
          sans: ['var(--font-inter)'],
          mono: ['var(--font-roboto-mono)'],
        },
      },
    },
  }
  ```
- í•„ìš”í•œ ê²½ìš°ë§Œ í°íŠ¸ ë¡œë“œë˜ë„ë¡ ìµœì í™”

## Local Fonts

```jsx
import localFont from 'next/font/local'

const myFont = localFont({
	src : './my-font.woff2',
	display : 'swap'
}
```

- ë¡œì»¬ í°íŠ¸ íŒŒì¼ ì§ì ‘ ì‚¬ìš©
- ë‹¨ì¼/ë‹¤ì¤‘ í°íŠ¸ íŒŒì¼ ì§€ì›

## TailwindCSS

- CSS ë³€ìˆ˜ë¥¼ í†µí•œ í†µí•©
- fontFamily ì„¤ì •ì„ í†µí•œ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ì‚¬ìš©

## Preloading

- í˜ì´ì§€ë³„ í”„ë¦¬ë¡œë”©
- ë ˆì´ì•„ì›ƒë³„ í”„ë¦¬ë¡œë”©
- ë£¨íŠ¸ ë ˆì´ì•„ì›ƒì˜ ê²½ìš° ëª¨ë“  ê²½ë¡œì—ì„œ í”„ë¦¬ë¡œë”©

---

# Metadata

## ë©”íƒ€ ë°ì´í„° ì„¤ì • ë°©ë²•

### 1. Config ê¸°ë°˜

```jsx
import type { Metadata } from "next";

// ì •ì  ë©”íƒ€ë°ì´í„°
export const metadata: Metadata = {
  title: "...",
  description: "...",
};

// ë™ì  ë©”íƒ€ë°ì´í„°
export async function generateMetadata({
  params,
  searchParams,
}: Props): Promise<Metadata> {
  return {
    title: "...",
    description: "...",
  };
}
```

### 2. íŒŒì¼ ê¸°ë°˜

- favicon.ico, apple-icon.jpg
- opengraph-image.jpg
- robots.txt
- sitemap.xml

## Behavior

- íŒŒì¼ ê¸°ë°˜ì´ Config ê¸°ë°˜ë³´ë‹¤ ìš°ì„ ìˆœìœ„ ë†’ìŒ
- ê¸°ë³¸ meta íƒœê·¸ (charset, viewport) ìë™ ì¶”ê°€
- ë£¨íŠ¸ì—ì„œ í˜ì´ì§€ ë°©í–¥ìœ¼ë¡œ í‰ê°€ë¨
- ì¤‘ë³µí‚¤ëŠ” ë§ˆì§€ë§‰ ì„¸ê·¸ë¨¼íŠ¸ ê°’ìœ¼ë¡œ ë®ì–´ì”Œì›Œì§

## Dynamic Image Generation

ImageResponse ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ JSXì™€ CSSë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì  ì´ë¯¸ì§€ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import { ImageResponse } from "next/og";

export async function GET() {
  return new ImageResponse(<div>Hello world!</div>, {
    width: 1200,
    height: 600,
  });
}
```

## JSON-LD

ê²€ìƒ‰ì—”ì§„ì´ ì½˜í…ì¸ ë¥¼ ì´í•´í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” êµ¬ì¡°í™”ëœ ë°ì´í„° í˜•ì‹

```jsx
export default function Page() {
  const jsonLd = {
    "@context": "https://schema.org",
    "@type": "Product",
    name: "ì œí’ˆëª…",
  };

  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
    />
  );
}
```

---

# Script Optimization

## ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ìœ„ì¹˜

```jsx
// ë ˆì´ì•„ì›ƒ ìŠ¤í¬ë¦½íŠ¸ - íŠ¹ì • ë ˆì´ì•„ì›ƒì—ì„œë§Œ ë¡œë“œ
import Script from 'next/script'

export default function DashboardLayout({ children }) {
  return (
    <>
      {children}
      <Script src="https://example.com/script.js" />
    </>
  )
}

// ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ - ëª¨ë“  ë¼ìš°íŠ¸ì—ì„œ ë¡œë“œ
export default function RootLayout({ children }) {
  return (
    <html>
      <body>{children}</body>
      <Script src="https://example.com/script.js" />
    </html>
  )
}
```

## Strategy

- beforeInteractive: Next.js ì½”ë“œì™€ í˜ì´ì§€ hydration ì „ì— ë¡œë“œ
- afterInteractive: (ê¸°ë³¸ê°’) ì¼ë¶€ hydration í›„ì— ë¹ ë¥´ê²Œ ë¡œë“œ
- lazyOnload: ë¸Œë¼ìš°ì € ìœ íœ´ ì‹œê°„ì— ëŠ¦ê²Œ ë¡œë“œ
- worker: (ì‹¤í—˜ì ) ì›¹ ì›Œì»¤ì—ì„œ ë¡œë“œ

## Inline Scripts

ì™¸ë¶€ íŒŒì¼ì—ì„œ ë¡œë“œë˜ì§€ ì•ŠëŠ” ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë„ Script ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤.

```jsx
<Script id="show-banner">
  {`document.getElementById('banner').classList.remove('hidden')`}
</Script>
```

## ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í›„ ì¶”ê°€ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
'use client'

<Script
  src="https://example.com/script.js"
  onLoad={() => console.log('ë¡œë“œ ì™„ë£Œ')}
  onReady={() => console.log('ì¤€ë¹„ ì™„ë£Œ')}
  onError={() => console.log('ë¡œë“œ ì‹¤íŒ¨')}
/>
```

## ì¶”ê°€ ì†ì„±

```jsx
<Script
  src="https://example.com/script.js"
  id="example-script"
  nonce="XUENAJFW"
  data-test="script"
/>
```
