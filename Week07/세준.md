# ğŸ˜¡Â Images

## ë¡œì»¬ ì´ë¯¸ì§€ ì‚¬ìš©

- ì„í¬íŠ¸í•´ì„œ ê°€ì ¸ì˜¤ë©´ íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ `width`, `height` ìë™ìœ¼ë¡œ ê²°ì •
- `ë™ì  ì„í¬íŠ¸` ë° `require()`ëŠ” ì§€ì›í•˜ì§€ ì•ŠìŒ
- `next.config.js`ì˜ `localPatterns`ë¥¼ í†µí•´ íŠ¹ì • ê²½ë¡œ ì´ë¯¸ì§€ë§Œ í—ˆìš© ê°€ëŠ¥

ë‹¤ìŒê³¼ ê°™ì´ `.jpg`, `.png`, `.webp` íŒŒì¼ì„ ì„í¬íŠ¸í•´ì„œ ì‚¬ìš©

```tsx
import Image from 'next/image';
import profilePic from './me.png';

export default function Page() {
  return (
    <Image
      src={profilePic}
      alt="Picture of the author"
      // width={500} ìë™ ì œê³µ
      // height={500} ìë™ ì œê³µ
      // blurDataURL="data:..." ìë™ ì œê³µ
      // placeholder="blur" // ë¡œë”© ì¤‘ ë¸”ëŸ¬ íš¨ê³¼ (ì„ íƒì )
    />
  );
}
```

## ì›ê²© ì´ë¯¸ì§€ ì‚¬ìš©

- ì›ê²© ì´ë¯¸ì§€ëŠ” `src` ì†ì„±ì— URL ë¬¸ìì—´ ì§€ì •í•´ì•¼ í•œë‹¤.
- `width`, `height` ë° `blurDataURL`ì„ ìˆ˜ë™ìœ¼ë¡œ ì œê³µí•´ì•¼ í•œë‹¤.
- ìœ„ ê°’ì´ ì‹¤ì œ ë Œë”ë§ í¬ê¸°ë¥¼ ê²°ì •í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
- `next.config`ì—ì„œ `remotePatterns`ë¥¼ í†µí•´ í—ˆìš©í•  ì›ê²© ì´ë¯¸ì§€ URL íŒ¨í„´ì„ ì •ì˜í•´ì•¼ í•œë‹¤.

**`width` `height` ìˆ˜ë™ ì •ì˜**

```tsx
export default function Page() {
  return (
    <Image
      src="https://s3.amazonaws.com/my-bucket/profile.png"
      alt="Picture of the author"
      width={500} // ì¢…íš¡ë¹„ ìœ ì§€ ë° CLS ë°©ì§€
      height={500}
    />
  );
}
```

**ì›ê²© ì´ë¯¸ì§€ URL í—ˆìš©**

```tsx
module.exports = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 's3.amazonaws.com',
        port: '',
        pathname: '/my-bucket/**', // íŠ¹ì • ë²„í‚·ë§Œ í—ˆìš©
        search: '',
      },
    ],
  },
};
```

## ë¡œë”

**ë¡œì»¬ ì´ë¯¸ì§€** ë¥¼ ì‚¬ìš©í•  ë•Œ `src="/me.png"` ê³¼ ê°™ì´ ë¶€ë¶„ URLì„ ì œê³µí•  ìˆ˜ ìˆì—ˆë‹¤

ì´ê²ƒì´ ê°€ëŠ¥í•œ ì´ìœ ëŠ”**Next.jsì˜ ë¡œë”(Loader) ì•„í‚¤í…ì²˜ ë•ë¶„ì´ë‹¤.**

### ë¡œë”ë€?

- ë¡œë”ëŠ” **ì´ë¯¸ì§€ì˜ URLì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.**
- ì œê³µëœ `src` ê°’ì„ ìˆ˜ì •í•˜ê³ , ë‹¤ì–‘í•œ í¬ê¸°ì˜ ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ **ì—¬ëŸ¬ ê°œì˜ URLì„ ìƒì„±í•œë‹¤.**
- ì´ëŸ¬í•œ ë‹¤ì¤‘ URLì€ ìë™ `srcset` ìƒì„±ì— í™œìš©ë˜ì–´, ì‚¬ìš©ìì—ê²Œ ë·°í¬íŠ¸ í¬ê¸°ì— ë§ëŠ” ìµœì ì˜ ì´ë¯¸ì§€ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

### ê¸°ë³¸ ë¡œë”

ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ ì´ë¯¸ì§€ ìµœì í™” APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ìµœì í™”í•˜ê³ , ìµœì í™”ëœ ì´ë¯¸ì§€ë¥¼ Next.js ì›¹ì„œë²„ì—ì„œ ì§ì ‘ ì œê³µí•œë‹¤.

### ì»¤ìŠ¤í…€ ë¡œë”

- ê°œë³„ ì´ë¯¸ì§€ì— ëŒ€í•´ `loader` ì†ì„±ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
- ì•± ì „ì²´ì— ì ìš©í•˜ë ¤ë©´ next.config.jsì—ì„œ `loaderFile`ì„ ì„¤ì •í•˜ë©´ ëœë‹¤.

CDN ë˜ëŠ” ë³„ë„ì˜ ì´ë¯¸ì§€ ì„œë²„ì—ì„œ ì§ì ‘ ì´ë¯¸ì§€ë¥¼ ì œê³µí•˜ë ¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì»¤ìŠ¤í…€ ë¡œë” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.

```tsx
const myLoader = ({ src, width, quality }) => {
  return `https://example.com/${src}?w=${width}&q=${quality || 75}`;
};
```

ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```tsx
<Image
  loader={myLoader} // ì»¤ìŠ¤í…€ ë¡œë”
  src="profile.png"
  alt="Profile Picture"
  width={500}
  height={500}
/>
```

## Priority

í˜ì´ì§€ì—ì„œ **LCP(Largest Contentful Paint)** ìš”ì†Œê°€ ë˜ëŠ” ì´ë¯¸ì§€ëŠ” `priority` ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

### **LCPë€?**

- LCP ìš”ì†ŒëŠ” ë·°í¬íŠ¸ì—ì„œ ê°€ì¥ í° ì´ë¯¸ì§€ ë˜ëŠ” í…ìŠ¤íŠ¸ ë¸”ë¡ì´ë‹¤.
- `priority` ì†ì„±ì„ ì¶”ê°€í•˜ë©´ Next.jsê°€ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ì‚¬ì „ ë¡œë“œ í•˜ì—¬ LCP ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤.
- `next dev` ëª¨ë“œì—ì„œ LCP ìš”ì†Œì— `priority`ê°€ ì—†ìœ¼ë©´ ì½˜ì†” ê²½ê³ ê°€ í‘œì‹œëœë‹¤

```tsx
export default function Page() {
  return (
    <Image
      src={profilePic}
      alt="Picture of the author"
      priority // ì‚¬ì „ ë¡œë“œ
    />
  );
}
```

## ì´ë¯¸ì§€ í¬ê¸° ì§€ì •

ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ëŠ” **CLS(Cumulative Layout Shift)ë¥¼ ì¼ìœ¼í‚¨ë‹¤.**

í•­ìƒ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì§€ì •í•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ ì´ë¯¸ì§€ ë¡œë“œ ë˜ê¸° ì „ì— í¬ê¸°ë¥¼ ì˜ˆì•½í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒì€ í¬ê¸°ë¥¼ ì§€ì •í•˜ëŠ” ì„¸ ê°€ì§€ ë°©ë²•ì´ë‹¤.

### 1. ìë™ í¬ê¸° ì§€ì •(Static Import)

ì •ì  importë¥¼ ì‚¬ìš©í•˜ë©´ ìë™ìœ¼ë¡œ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

```tsx
import profilePic from '../public/me.png';

export default function Page() {
  return <Image src={profilePic} alt="Profile Picture" />;
}
```

### 2. ìˆ˜ë™ í¬ê¸° ì§€ì •

`width,` `height`ì„ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •í•˜ì—¬, ì´ë¯¸ì§€ì˜ ë¹„ìœ¨ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

```tsx
<Image
  src="https://example.com/image.jpg"
  alt="Example Image"
  width={500}
  height={300}
/>
```

### 3. ë¶€ëª¨ ìš”ì†Œë¥¼ ì±„ìš°ëŠ” í¬ê¸° ì§€ì •

`fill` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ê°€ ë¶€ëª¨ ìš”ì†Œë¥¼ ê½‰ ì±„ìš°ë„ë¡ í¬ê¸°ë¥¼ ì¡°ì •í•œë‹¤.

ì´ ë•Œ ë¶€ëª¨ ìš”ì†ŒëŠ” `position`ì´ ì§€ì •ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

```tsx
<div style={{ position: 'relative', width: '100%', height: '300px' }}>
  <Image
    src="https://example.com/image.jpg"
    alt="Example Image"
    fill
    style={{ objectFit: 'cover' }}
  />
</div>
```

ë§Œì•½ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ëª¨ë¥´ëŠ” ê²½ìš°, `fill` ì†ì„± ì‚¬ìš©í•˜ê±°ë‚˜ ê·¸ëƒ¥ `<img/>` ì¨ë¼

# ğŸ˜¡Â Fonts

`next/font` ëŠ” ì›¹ í°íŠ¸(ì»¤ìŠ¤í…€ í°íŠ¸ í¬í•¨)ë¥¼ ìë™ìœ¼ë¡œ ìµœì í™”í•œë‹¤.

- ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì œê±°
- í°íŠ¸íŒŒì¼ self-hosting
- ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ ì—†ì´ ë Œë”ë§ (CSS `size-adjust` í™œìš©)

## Google Fonts ìµœì í™”

`next/font/goole` ì„ í†µí•´ êµ¬ê¸€ í°íŠ¸ë¥¼ ë¹Œë“µì„ì— ë‹¤ìš´ë¡œë“œí•˜ì—¬ ìµœì í™”

- êµ¬ê¸€ í°íŠ¸ê°€ ë¹Œë“œ íƒ€ì„ì— ë‹¤ìš´ë¡œë“œë˜ì–´ ì •ì  ìì‚°ìœ¼ë¡œ í˜¸ìŠ¤íŒ…
- ë¸Œë¼ìš°ì €ê°€ êµ¬ê¸€ ì„œë²„ì— ìš”ì²­í•˜ì§€ ì•ŠìŒ(ë¹ ë¥¸ ë¡œë”©)
- classNameì„ ìë™ ìƒì„±í•˜ì—¬ ìŠ¤íƒ€ì¼ ì ìš©

```tsx
import { Inter } from 'next/font/google';

const inter = Inter({ subsets: ['latin'] });

export default function Page() {
  return <p className={inter.className}>Hello, world!</p>;
}
```

## ì»¤ìŠ¤í…€ í°íŠ¸ ìµœì í™”

- ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ ë°©ì§€(CLS ìµœì í™”)
- `display: swap` ì„¤ì • ê°€ëŠ¥

ë‹¤ìŒê³¼ ê°™ì´ ë¡œì»¬ í°íŠ¸ ì‚¬ìš©ë„ ê°€ëŠ¥

```tsx
import localFont from 'next/font/local';

const myFont = localFont({
  src: './fonts/MyFont.woff2',
  display: 'swap',
});

export default function Page() {
  return <p className={myFont.className}>This is a custom font!</p>;
}
```

## ì—¬ëŸ¬ í°íŠ¸ ì‚¬ìš©

ë‹¤ìŒê³¼ ê°™ì´ í°íŠ¸ë¥¼ ì •ì˜í•˜ê³  í•„ìš”í•œ í˜ì´ì§€ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

```tsx
// app/font.ts
import { Inter, Roboto_Mono } from 'next/font/google';

export const inter = Inter({
  subsets: ['latin'],
  display: 'swap',
});

export const roboto_mono = Roboto_Mono({
  subsets: ['latin'],
  display: 'swap',
});
```

**ì „ì—­ ì„¤ì •**

```tsx
import { inter } from './fonts';

export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en" className={inter.className}>
      <body>
        <div>{children}</div>
      </body>
    </html>
  );
}
```

**íŠ¹ì • í˜ì´ì§€ì—ì„œ ì‚¬ìš©**

```tsx
import { roboto_mono } from './fonts';

export default function Page() {
  return (
    <>
      <h1 className={roboto_mono.className}>My page</h1>
    </>
  );
}
```

## TailwindCSSì™€ ì‚¬ìš©

### 1. variableì„ ì „ì—­ìœ¼ë¡œ ë“±ë¡

```tsx
import { Inter, Roboto_Mono } from 'next/font/google';

const inter = Inter({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-inter',
});

const roboto_mono = Roboto_Mono({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-roboto-mono',
});

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className={`${inter.variable} ${roboto_mono.variable}`}>
      <body>{children}</body>
    </html>
  );
}
```

### 2. Tailwind CSS configì—ì„œ CSS Variable ì¶”ê°€

`font-sans`, `font-mono`ë¡œ ì‚¬ìš© ê°€ëŠ¥

```tsx
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './pages/**/*.{js,ts,jsx,tsx}',
    './components/**/*.{js,ts,jsx,tsx}',
    './app/**/*.{js,ts,jsx,tsx}',
  ],
  theme: {
    extend: {
      fontFamily: {
        sans: ['var(--font-inter)'],
        mono: ['var(--font-roboto-mono)'],
      },
    },
  },
  plugins: [],
};
```

## í”„ë¦¬ ë¡œë”©

`next/font`ë¥¼ ì‚¬ìš©í•  ë•Œ íŠ¹ì • ë¼ìš°íŠ¸ì—ì„œë§Œ í”„ë¦¬ ë¡œë“œë„ ê°€ëŠ¥í•˜ë‹¤.

`/about` í˜ì´ì§€ì—ì„œë§Œ í°íŠ¸ê°€ í”„ë¦¬ë¡œë“œ ëœë‹¤.

```tsx
// app/about/page.tsx
import { Inter } from 'next/font/google';
const inter = Inter({ subsets: ['latin'] });

export default function AboutPage() {
  return <p className={inter.className}>About Page</p>;
}
```

# ğŸ˜¡Â Metadata

`<head>` ìš”ì†Œ ë‚´ì˜ `meta` ë° `link` íƒœê·¸ë¥¼ ìë™ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒ ë‘ ê°€ì§€ ë°©ë²•ì„ í†µí•´ ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

- **Config ê¸°ë°˜ ë©”íƒ€ë°ì´í„°**
  - `layout` ë˜ëŠ” `page`ì—ì„œ `metadata` ê°ì²´ ë˜ëŠ” `generateMetadata` í•¨ìˆ˜ export
- **File ê¸°ë°˜ ë©”íƒ€ë°ì´í„°**
  - íŠ¹ì • ê²½ë¡œì— ì •ì  ë˜ëŠ” ë™ì ìœ¼ë¡œ ë©”íƒ€ë°ì´í„° íŒŒì¼ ì¶”ê°€

## ì •ì  ë©”íƒ€ë°ì´í„°

- `layout.tsx` ë˜ëŠ” `page.tsx`ì—ì„œ `Metadata` ê°ì²´ë¥¼ ë‚´ë³´ë‚´ê¸°

```tsx
// app/layout.tsx ë˜ëŠ” app/page.tsx
import type { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'My Next.js App',
  description: 'This is a description of my app for SEO purposes.',
};

export default function Page() {
  return <h1>Welcome to My Next.js App</h1>;
}
```

## ë™ì  ë©”íƒ€ë°ì´í„°

- `generateMetadata` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ ë©”íƒ€ë°ì´í„° ìƒì„±
- `parent` ë©”íƒ€ë°ì´í„°ë¥¼ í™•ì¥í•˜ì—¬ ë¶€ëª¨ ë©”íƒ€ë°ì´í„° ìœ ì§€ ê°€ëŠ¥

```tsx
// app/products/[id]/page.tsx
import type { Metadata, ResolvingMetadata } from 'next';

type Props = {
  params: { id: string };
  searchParams: { [key: string]: string | string[] | undefined };
};

export async function generateMetadata(
  { params, searchParams }: Props,
  parent: ResolvingMetadata,
): Promise<Metadata> {
  // URLì—ì„œ ì œí’ˆ ID ê°€ì ¸ì˜¤ê¸°
  const { id } = params;

  // APIì—ì„œ ì œí’ˆ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  const product = await fetch(`https://api.example.com/products/${id}`).then(
    res => res.json(),
  );

  // ê¸°ì¡´ Open Graph ì´ë¯¸ì§€ ìœ ì§€ + ìƒˆë¡œìš´ ì´ë¯¸ì§€ ì¶”ê°€
  const previousImages = (await parent).openGraph?.images || [];

  return {
    title: product.title,
    description: product.description,
    openGraph: {
      images: [`https://cdn.example.com/products/${id}.jpg`, ...previousImages],
    },
  };
}

export default function Page({ params }: Props) {
  return <h1>Product {params.id}</h1>;
}
```

## íŒŒì¼ ê¸°ë°˜ ë©”íƒ€ë°ì´í„°

ì„¤ì • ê¸°ë°˜ ë©”íƒ€ë°ì´í„°ë³´ë‹¤ ìš°ì„  ìˆœìœ„ê°€ ë†’ë‹¤. ì¦‰ ë¨¼ì € ì ìš©ëœë‹¤.

page, layout ë“±ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íŒŒì¼ ì˜ˆì•½ì–´

- f`avicon.ico` : ë¸Œë¼ìš°ì € íƒ­ ì•„ì´ì½˜
- `apple-icon.jpg`, `icon.jpg` : IOS ë° ì¼ë°˜ ì•± ì•„ì´ì½˜
- `opengraph-image.jpg` : SNS ê³µìœ  ì‹œ í‘œì‹œë˜ëŠ” ì´ë¯¸ì§€
- `twitter-image.jpg` : íŠ¸ìœ„í„° ì¹´ë“œ ì´ë¯¸ì§€
- `robots.txt` : ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ ê·œì¹™ ì„¤ì •
- `sitemap.xml` : ì›¹ì‚¬ì´íŠ¸ì˜ í˜ì´ì§€ ëª©ë¡

## ë©”íƒ€ë°ì´í„° ë³‘í•©

- ê¸°ë³¸ì ìœ¼ë¡œ ì–•ì€ ë³‘í•©
- ì¤‘ë³µëœ í‚¤ëŠ” í›„ì† ì„¸ê·¸ë¨¼íŠ¸ì—ì„œ ë®ì–´ì”Œì›Œì§
- ì¤‘ì²©ëœ í•„ë“œëŠ” ì™„ì „íˆ êµì²´ (openGraph)

### 1. ê¸°ë³¸ ë³‘í•©

`description`ì€ ì§€ì›Œì§

```tsx
// app/layout.js
export const metadata = {
  title: 'Acme',
  openGraph: {
    title: 'Acme',
    description: 'Acme is a...',
  },
}

// app/blog/page.js
export const metadata = {
  title: 'Blog',
  openGraph: {
    title: 'Blog',
  },
}

// ğŸ”½ ìµœì¢… ë©”íƒ€ë°ì´í„° ì¶œë ¥ (Output)
<title>Blog</title>
<meta property="og:title" content="Blog" />

```

### 2. íŠ¹ì • í•„ë“œë§Œ ê³µìœ 

ì¼ë¶€ í•„ë“œë§Œ ìœ ì§€í•˜ê³  ê³µìœ  ë³€ìˆ˜ë¡œ ë¶„ë¦¬

```tsx
// app/shared-metadata.js
export const openGraphImage = { images: ['http://example.com/default-og.jpg'] };

// app/page.js (í™ˆí˜ì´ì§€)
import { openGraphImage } from './shared-metadata';

export const metadata = {
  openGraph: {
    ...openGraphImage, // âœ… ê³µìœ ëœ ì´ë¯¸ì§€ ì‚¬ìš©
    title: 'Home',
  },
};

// app/about/page.js (ì†Œê°œ í˜ì´ì§€)
import { openGraphImage } from '../shared-metadata';

export const metadata = {
  openGraph: {
    ...openGraphImage, // âœ… ë™ì¼í•œ ì´ë¯¸ì§€ ì‚¬ìš©
    title: 'About',
  },
};
```

## ë™ì  ì´ë¯¸ì§€ ìƒì„±

`ImageResponse`ë¥¼ í™œìš©í•˜ì—¬ JSX ë° CSSë¥¼ ì‚¬ìš©í•œ ë™ì  ì´ë¯¸ì§€ ìƒì„±ì„ ì§€ì›

- 1200x600 í¬ê¸°ì˜ PNG ì´ë¯¸ì§€ ìë™ ìƒì„±
- í…ìŠ¤íŠ¸ & ìŠ¤íƒ€ì¼ ì ìš© ê°€ëŠ¥ (Flexbox ì§€ì›, grid ì§€ì› ì•ˆë¨)
- ìµœëŒ€ ë²ˆë“¤ í¬ê¸° 500KB
- HTML&CSSë¥¼ PNGë¡œ ë³€í™˜

```tsx
import { ImageResponse } from 'next/og';

export async function GET() {
  return new ImageResponse(
    (
      <div
        style={{
          fontSize: 128,
          background: 'white',
          width: '100%',
          height: '100%',
          display: 'flex',
          textAlign: 'center',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      >
        Hello world!
      </div>
    ),
    {
      width: 1200,
      height: 600,
    },
  );
}
```

### opengraph-imageì™€ ì—°ë™

```tsx
import { ImageResponse } from 'next/og';

export const runtime = 'edge'; // ğŸš€ ë¹ ë¥¸ ì‘ë‹µì„ ìœ„í•´ Edge Runtime ì‚¬ìš©

export async function GET() {
  return new ImageResponse(
    (
      <div
        style={{
          fontSize: 64,
          color: 'white',
          background: 'black',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      >
        Dynamic OG Image ğŸš€
      </div>
    ),
    {
      width: 1200,
      height: 630, // OG ì´ë¯¸ì§€ í‘œì¤€ ì‚¬ì´ì¦ˆ
    },
  );
}

// https://yourdomain.com/opengraph-image.tsxë¡œ ì ‘ê·¼ ê°€ëŠ¥
```

Open Graph ë©”íƒ€ë°ì´í„°ì—ì„œ ì‚¬ìš© ê°€ëŠ¥

```tsx
export const metadata = {
  openGraph: {
    title: 'My Dynamic Page',
    images: ['/opengraph-image.tsx'], // ìë™ìœ¼ë¡œ ë™ì  ì´ë¯¸ì§€ ì‚¬ìš©
  },
};
```

# Script

`next/script`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë“œíŒŒí‹° ìŠ¤í¬ë¦½íŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™”

í•œ ë²ˆë§Œ ë¡œë“œë˜ë©°, ë¼ìš°íŠ¸ ë³€ê²½ ì‹œ ì¤‘ë³µ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

## ê¸°ë³¸ ì‚¬ìš© ë°©ì‹

íŠ¹ì • ë ˆì´ì•„ì›ƒì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```tsx
import Script from 'next/script';

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <>
      <section>{children}</section>
      {/* íŠ¹ì • ë ˆì´ì•„ì›ƒì—ë§Œ ì„œë“œíŒŒí‹° ìŠ¤í¬ë¦½íŠ¸ ì ìš© */}
      <Script src="https://example.com/script.js" />
    </>
  );
}
```

**ì•± ì „ì—­ ìŠ¤í¬ë¦½íŠ¸ ë¡œë”©**

```tsx
import Script from 'next/script';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body>{children}</body>
      {/* ëª¨ë“  í˜ì´ì§€ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ */}
      <Script src="https://example.com/script.js" />
    </html>
  );
}
```

## Strategy ì†ì„± ì‚¬ìš©

ìƒí™©ì— ë”°ë¼ ìŠ¤í¬ë¦½íŠ¸ì˜ `strategy` ì†ì„± ì„¤ì •

| **ì „ëµ (`strategy`)** | **ì„¤ëª…** | **ì‚¬ìš© ì˜ˆì‹œ** |
| --- | --- | --- |
| `beforeInteractive` | **Next.js ì½”ë“œ ì‹¤í–‰ ì „ì— ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ** | **SEO, A/B í…ŒìŠ¤íŒ…, ì¤‘ìš” JS** |
| `afterInteractive` (ê¸°ë³¸ê°’) | **í˜ì´ì§€ê°€ ì¼ë¶€ ë Œë”ë§ëœ í›„ ë¡œë“œ** | **ì¼ë°˜ì ì¸ ì„œë“œíŒŒí‹° ìŠ¤í¬ë¦½íŠ¸ (ì˜ˆ: ë¶„ì„ ë„êµ¬)** |
| `lazyOnload` | **ë¸Œë¼ìš°ì €ê°€ ìœ íœ´ ìƒíƒœ(idle)ì¼ ë•Œ ë¡œë“œ** | **ì„±ëŠ¥ ìµœì í™” (ì˜ˆ: ì±„íŒ… ë´‡, ê´‘ê³  ìŠ¤í¬ë¦½íŠ¸)** |
| `worker` (ì‹¤í—˜ì ) | **ì›¹ ì›Œì»¤ì—ì„œ ë¡œë“œ** | **ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì´ í•„ìš”í•œ ê²½ìš°** |

```tsx
import Script from 'next/script';

export default function Page() {
  return (
    <>
      {/* Next.js ì½”ë“œ ì‹¤í–‰ ì „ ë¡œë“œ (SEO ìµœì í™”) */}
      <Script
        src="https://example.com/important.js"
        strategy="beforeInteractive"
      />

      {/* ê¸°ë³¸ê°’: í˜ì´ì§€ ì¸í„°ë™ì…˜ í›„ ë¡œë“œ (Google Analytics ë“±) */}
      <Script
        src="https://example.com/analytics.js"
        strategy="afterInteractive"
      />

      {/* ë¸Œë¼ìš°ì €ê°€ ìœ íœ´ ìƒíƒœì¼ ë•Œ ë¡œë“œ (ê´‘ê³  ìŠ¤í¬ë¦½íŠ¸ ë“±) */}
      <Script src="https://example.com/ads.js" strategy="lazyOnload" />

      {/* ì›¹ ì›Œì»¤ì—ì„œ ì‹¤í–‰ (ì‹¤í—˜ì  ê¸°ëŠ¥) */}
      <Script src="https://example.com/worker.js" strategy="worker" />
    </>
  );
}
```

## ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸

ì™¸ë¶€ íŒŒì¼ì—†ì´ í˜ì´ì§€ ë‚´ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

ë°˜ë“œì‹œ `id` ì†ì„±ì„ í¬í•¨í•´ì•¼ nextì—ì„œ ìµœì í™” ê°€ëŠ¥

```tsx
<Script id="show-banner">
  {`document.getElementById('banner').classList.remove('hidden')`}
</Script>
```

```tsx
<Script
  id="show-banner"
  dangerouslySetInnerHTML={{
    __html: `document.getElementById('banner').classList.remove('hidden')`,
  }}
/>
```

## ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© í›„ íŠ¹ì • ì‘ì—… ì‹¤í–‰ ê°€ëŠ¥ `í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ë™ì‘`

| **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬** | **ì„¤ëª…**                                             |
| ----------------- | ---------------------------------------------------- |
| `onLoad`          | **ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰**                       |
| `onReady`         | **ìŠ¤í¬ë¦½íŠ¸ê°€ ë¡œë“œë˜ê³ , ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰** |
| `onError`         | **ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì‹¤í–‰**                       |

```tsx
'use client';

import Script from 'next/script';

export default function Page() {
  return (
    <>
      <Script
        src="https://example.com/script.js"
        onLoad={() => {
          console.log('Script has loaded');
        }}
      />
    </>
  );
}
```
