# Rendering

λ λ”λ§μ€ μ‘μ„±ν• μ½”λ“λ¥Ό μ‚¬μ©μ μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•λ” κ³Όμ •μ΄λ‹¤. Reactμ™€ Next.jsλ¥Ό μ‚¬μ©ν•λ©΄ μ• ν”λ¦¬μΌ€μ΄μ…μ μΌλ¶€λ¥Ό μ„λ²„μ—μ„ λ λ”λ§ν•κ³ , μΌλ¶€λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•λ” ν•μ΄λΈλ¦¬λ“ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ§λ“¤ μ μλ‹¤.

μ΄ μ„Ήμ…μ—μ„λ” μ΄λ¬ν• λ λ”λ§ ν™κ²½, μ „λµ λ° λ°νƒ€μ„ κ°„μ μ°¨μ΄μ μ„ μ΄ν•΄ν•λ” λ° λ„μ›€μ„ μ¤„ κ²ƒμ΄λ‹¤.

# κΈ°λ³Έ κ°λ…

μ°μ„ , μ•„λ μ„Έ κ°€μ§€ μ›Ήμ κΈ°λ³Έ κ°λ…μ„ μ΄ν•΄ν•λ” κ²ƒμ΄ λ„μ›€μ΄ λλ‹¤.

1. ν™κ²½(environment): μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“κ°€ μ‹¤ν–‰λ  μ μλ” λ‘ κ°€μ§€ ν™κ²½μ΄ μλ‹¤.
   - server
   - client
2. μ”μ²­-μ‘λ‹µ μƒλ…μ£ΌκΈ°(request-response lifecycle): μ‚¬μ©μκ°€ μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°©λ¬Έν•κ±°λ‚ μƒνΈμ‘μ©ν•  λ• λ°μƒν•λ” ν”„λ΅μ„Έμ¤.
3. λ„¤νΈμ›ν¬ κ²½κ³„(network boundary): μ„λ²„ μ½”λ“μ™€ ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ λ¶„λ¦¬λλ” μ§€μ .

# λ λ”λ§ ν™κ²½

μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ΄ λ λ”λ§λ  μ μλ” ν™κ²½μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ‘ κ°€μ§€λ‹¤.

## ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ ν™κ²½

- ν΄λΌμ΄μ–ΈνΈ
  - μ‚¬μ©μμ κΈ°κΈ°μ— μλ” λΈλΌμ°μ €λ¥Ό μλ―Έν•λ©°, λΈλΌμ°μ €λ” μ„λ²„μ— μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“ μ”μ²­μ„ λ³΄λ‚΄κ³ , μ„λ²„μ μ‘λ‹µμ„ λ°›μ•„ μ‚¬μ©μ μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•λ‹¤.
- μ„λ²„
  - λ°μ΄ν„° μ„Όν„°μ μ»΄ν“¨ν„°λ¥Ό μλ―Έν•λ©°, μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“λ¥Ό μ €μ¥ν•κ³  μμΌλ©° ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μ•„ μ μ ν• μ‘λ‹µμ„ μ κ³µν•λ‹¤.

![image.png](attachment:646127dd-ad27-4956-85a3-0eee951f10fb:image.png)

κ³Όκ±°μ—λ” μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ—μ„ κ°κ° λ‹¤λ¥Έ μ–Έμ–΄λ¥Ό μ‚¬μ©ν•΄μ•Ό ν–λ‹¤.

μλ¥Ό λ“¤μ–΄,

- μ„λ²„ : PHP, Java, Python
- ν΄λΌμ΄μ–ΈνΈ : JavaScript

κ·Έλ¬λ‚ Reactλ¥Ό μ‚¬μ©ν•λ©΄ JavaScript ν•λ‚μ μ–Έμ–΄λ§μΌλ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ™μΌν• ν”„λ μ„μ›ν¬(μλ¥Ό λ“¤μ–΄, Next.js)λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

μ΄λ¬ν• μ μ—°μ„± λ•λ¶„μ— κ°λ°μλ” μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ λ¬Έλ§¥ μ „ν™ μ—†μ΄ μ½”λ“λ¥Ό μ‘μ„±ν•  μ μλ‹¤.

κ·Έλ¬λ‚ κ° ν™κ²½λ§λ‹¤ μν–‰ν•  μ μλ” μ‘μ—…κ³Ό μ μ•½ μ‚¬ν•­μ΄ λ‹¤λ¥΄λ‹¤.

μλ¥Όλ“¤μ–΄,

- λ°μ΄ν„° κ°€μ Έμ¤κΈ° (Data Fetching)
- μ‚¬μ©μ μƒνƒ κ΄€λ¦¬ (User State Management)

λ“±μ μ‘μ—…μ€ νΉμ • ν™κ²½μ—μ„ λ” μ ν•©ν•κ² μ‹¤ν–‰λ  μ μλ‹¤.

μ΄λ¬ν• μ°¨μ΄λ¥Ό μ΄ν•΄ν•λ” κ²ƒμ΄ Reactμ™€ Next.jsλ¥Ό ν¨κ³Όμ μΌλ΅ ν™μ©ν•λ” ν•µμ‹¬μ΄λ‹¤.

## μ”μ²­-μ‘λ‹µ μƒλ…μ£ΌκΈ°

λ¨λ“  μ›Ήμ‚¬μ΄νΈλ” κΈ°λ³Έμ μΌλ΅ λ™μΌν• μ”μ²­-μ‘λ‹µ μƒλ…μ£ΌκΈ°λ¥Ό λ”°λ¥Έλ‹¤.

1. μ‚¬μ©μ μ•΅μ…
   - μ‚¬μ©μκ°€ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…κ³Ό μƒνΈμ‘μ©ν•λ‹¤.
   - μ: λ§ν¬ ν΄λ¦­, νΌ μ μ¶, URL μ…λ ¥ λ“±
2. HTTP Request
   - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— HTTP μ”μ²­μ„ λ³΄λ‚Έλ‹¤.
   - μ”μ²­μ—λ” ν•„μ”ν• λ¦¬μ†μ¤ μ •λ³΄, μ”μ²­ λ°©μ‹ (GET, POST λ“±), μ¶”κ°€ λ°μ΄ν„°κ°€ ν¬ν•¨λλ‹¤.
3. μ„λ²„ μ²λ¦¬
   - μ„λ²„κ°€ μ”μ²­μ„ μ²λ¦¬ν•κ³  μ μ ν• μ‘λ‹µμ„ μƒμ„±ν•λ‹¤.
   - μ΄ κ³Όμ •μ—μ„ λΌμ°ν…, λ°μ΄ν„° κ°€μ Έμ¤κΈ° λ“±μ΄ μν–‰λλ‹¤.
4. HTTP Response
   - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ— HTTP μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.
   - μ‘λ‹µμ—λ” μƒνƒ μ½”λ“μ™€ μ”μ²­ν• λ¦¬μ†μ¤ (HTML, CSS, JavaScript λ“±) κ°€ ν¬ν•¨λλ‹¤.
5. ν΄λΌμ΄μ–ΈνΈ λ λ”λ§
   - ν΄λΌμ΄μ–ΈνΈκ°€ λ°›μ€ λ¦¬μ†μ¤λ¥Ό ν•΄μ„ν•μ—¬ UIλ¥Ό λ λ”λ§ν•λ‹¤.
6. μ‚¬μ©μ μ•΅μ… λ°λ³µ
   - UIκ°€ λ λ”λ§λλ©΄, μ‚¬μ©μλ” λ‹¤μ‹ μƒνΈμ‘μ©ν•  μ μμΌλ©°, μ„ κ³Όμ •μ΄ λ°λ³µλλ‹¤.

ν•μ΄λΈλ¦¬λ“ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ κµ¬μ¶•ν•  λ• μ΄ μƒλ…μ£ΌκΈ°μ—μ„ μ–΄λ λ¶€λ¶„μ„ μ„λ²„μ—μ„ μ²λ¦¬ν•κ³ , μ–΄λ λ¶€λ¶„μ„ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ²λ¦¬ν•  κ²ƒμΈμ§€ κ²°μ •ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.

μ¦‰, λ„¤νΈμ›ν¬ κ²½κ²λ¥Ό μ–΄λ””μ— λ‘λ”κ°€κ°€ μ¤‘μ”ν• μ—­ν• μ„ ν•λ‹¤.

# λ„¤νΈμ›ν¬ κ²½κ³„ (Network Boundary)

μ›Ή κ°λ°μ—μ„ λ„¤νΈμ›ν¬ κ²½κ³„λ” κ°λ…μ μΌλ΅ ν™κ²½μ„ λ‚λ„λ” μ„ μ΄λ‹¤.

μλ¥Ό λ“¤μ–΄,

- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ κ²½κ³„
- μ„λ²„μ™€ λ°μ΄ν„°λ² μ΄μ¤μ κ²½κ³„

Reactμ—μ„λ” ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ„¤νΈμ›ν¬ κ²½κ³„λ¥Ό μμ λ΅­κ² μ„¤μ •ν•  μ μλ‹¤.

μ΄ κ³Όμ •μ—μ„ λ‚΄λ¶€μ μΌλ΅ λ¨λ“ κ·Έλν”„(Module Graph)κ°€ λ‘ λ¶€λ¶„μΌλ΅ λ‚λ‰λ‹¤.

- μ„λ²„ λ¨λ“ κ·Έλν”„: μ„λ²„μ—μ„ λ λ”λ§λλ” μ»΄ν¬λ„νΈλ“¤.
- ν΄λΌμ΄μ–ΈνΈ λ¨λ“ κ·Έλν”„: ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§λλ” μ»΄ν¬λ„νΈλ“¤.

μ΄ λ¨λ“ κ·Έλν”„λ¥Ό ν†µν•΄ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ–΄λ–»κ² λ™μ‘ν•λ”μ§€ μ‹κ°μ μΌλ΅ μ΄ν•΄ν•  μ μλ‹¤.

Reactμ—μ„λ” `use client` μ™€ `use server` μ§€μ‹μ–΄λ¥Ό μ‚¬μ©ν•μ—¬ λ„¤νΈμ›ν¬ κ²½κ³„λ¥Ό μ •μν•  μ μλ‹¤.

- use client: ν•΄λ‹Ή λ¨λ“μ΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‹¤ν–‰λ¨μ„ λ…μ‹.
- use server: ν•΄λ‹Ή λ¨λ“μ΄ μ„λ²„μ—μ„ μ‹¤ν–‰λ¨μ„ λ…μ‹.

# ν•μ΄λΈλ¦¬λ“ μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ¶•

Reactμ™€ Next.js ν™κ²½μ—μ„λ” μ• ν”λ¦¬μΌ€μ΄μ…μ μ½”λ“ νλ¦„μ„ λ‹¨λ°©ν–¥(unidirectional) νλ¦„μΌλ΅ μƒκ°ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.

μ¦‰, μ‘λ‹µ κ³Όμ •μ—μ„ μ½”λ“λ” μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ νλ¥Έλ‹¤.

λ§μ•½ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„μ λ°μ΄ν„°λ¥Ό κ°€μ Έμ™€μ•Ό ν•λ‹¤λ©΄,

κΈ°μ΅΄ μ”μ²­μ„ μ¬μ‚¬μ©ν•μ§€ μ•κ³  μƒλ΅μ΄ μ”μ²­μ„ μ„λ²„λ΅ λ³΄λ‚΄μ•Όν•λ‹¤.

μ΄λ¬ν• λ¨λΈμ€ μ»΄ν¬λ„νΈλ¥Ό μ–΄λ””μ—μ„ λ λ”λ§ν• μ§€ μ‰½κ² κ²°μ •ν•  μ μλ„λ΅ ν•΄μ¤€λ‹¤.

μ¦‰, λ¨Όμ € μ„λ²„μ—μ„ μ‹¤ν–‰ν•  μ‘μ—…μ„ μ •μν•κ³ , κ·Έ κ²°κ³Όλ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•μ—¬ UIλ¥Ό κµ¬μ„±ν•λ” λ°©μ‹μ΄ λλ‹¤.

μ΄ κ°λ…μ€ μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ ν•λ‚μ μ»΄ν¬λ„νΈ νΈλ¦¬μ—μ„ μ–΄λ–»κ² μ΅°ν•©λλ”μ§€λ¥Ό μ‚΄ν΄λ³΄λ©΄μ„ λ”μ± λ…ν™•ν•΄μ§ κ²ƒμ΄λ‹¤.

---

# Server Component

React μ„λ²„ μ»΄ν¬λ„νΈλ” UIλ¥Ό μ„λ²„μ—μ„ λ λ”λ§ν•κ³  μ„ νƒμ μΌλ΅ μΊμ‹ν•  μ μκ² ν•΄μ¤€λ‹¤. Next.jsμ—μ„λ” λ λ”λ§ μ‘μ—…μ„ κ²½λ΅ μ„Έκ·Έλ¨ΌνΈλ³„λ΅ λ¶„ν• ν•μ—¬ μ¤νΈλ¦¬λ°κ³Ό λ¶€λ¶„ λ λ”λ§μ„ κ°€λ¥ν•κ² ν•λ©°, μ„Έ κ°€μ§€ μ„λ²„ λ λ”λ§ μ „λµμ„ μ κ³µν•λ‹¤.

1. μ •μ  λ λ”λ§ (Static Rendering)
2. λ™μ  λ λ”λ§ (Dynamic Rendering)
3. μ¤νΈλ¦¬λ° (Streaming)

μ΄ νμ΄μ§€μ—μ„λ” μ„λ²„ μ»΄ν¬λ„νΈμ μ‘λ™ λ°©μ‹, μ‚¬μ© μ‹κΈ°, κ·Έλ¦¬κ³  λ‹¤μ–‘ν• μ„λ²„ λ λ”λ§ μ „λµμ— λ€ν•΄ μ„¤λ…ν•λ‹¤.

# μ„λ²„ λ λ”λ§μ μ΄μ 

μ„λ²„μ—μ„ λ λ”λ§ μ‘μ—…μ„ μν–‰ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ μ΄μ λ“¤μ΄ μλ‹¤.

- **Data Fetching**
  - μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ λ°μ΄ν„° μ†μ¤μ™€ κ°€κΉμ΄ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¬ μ μλ‹¤. μ΄λ ‡κ² ν•λ©΄ λ λ”λ§μ— ν•„μ”ν• λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” μ‹κ°„μ΄ λ‹¨μ¶•λκ³ , ν΄λΌμ΄μ–ΈνΈμ—μ„μ μ”μ²­ μλ¥Ό μ¤„μ—¬ μ„±λ¥μ΄ ν–¥μƒλ„λ‹λ‹¤.
- **Security**
  - μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ ν† ν°μ΄λ‚ API ν‚¤μ™€ κ°™μ€ λ―Όκ°ν• λ°μ΄ν„°μ™€ λ΅μ§μ„ μ„λ²„μ— μ μ§€ν•  μ μμ–΄, ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶λ  μ„ν—μ΄ μ—†λ‹¤.
- **Caching**
  - μ„λ²„μ—μ„ λ λ”λ§λ κ²°κ³Όλ¥Ό μΊμ‹ν•μ—¬ μ΄ν›„μ μ”μ²­μ΄λ‚ λ‹¤λ¥Έ μ‚¬μ©μλ“¤μ΄ μ¬μ‚¬μ©ν•  μ μλ‹¤. μ΄λ ‡κ² ν•λ©΄ λ λ”λ§κ³Ό λ°μ΄ν„° ν¨μΉ­ μ‘μ—…μ΄ μ¤„μ–΄λ“¤μ–΄ μ„±λ¥μ΄ ν–¥μƒλκ³  λΉ„μ©μ΄ μ κ°λλ‹¤.
- **Performance**
  - μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅ JavaScriptμ μ–‘μ΄ μ¤„μ—¬ μ„±λ¥μ„ μµμ ν™”ν•  μ μλ‹¤. μΈν„°λ„· μ†λ„κ°€ λλ¦¬κ±°λ‚ μ„±λ¥μ΄ λ‚®μ€ μ¥μΉλ¥Ό μ‚¬μ©ν•λ” μ‚¬μ©μλ“¤μ—κ² μ λ¦¬ν•λ‹¤.
- **Initial Page Load andΒ [First Contentful Paint (FCP)](https://web.dev/fcp/)**
  - μ„λ²„μ—μ„ HTMLμ„ μƒμ„±ν•μ—¬ μ‚¬μ©μκ°€ νμ΄μ§€λ¥Ό μ¦‰μ‹ λ³Ό μ μκ² ν•λ‹¤. μ΄λ ‡κ² ν•λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ JavaScriptλ¥Ό λ‹¤μ΄λ΅λ“, νμ‹±, μ‹¤ν–‰ν•  λ•κΉμ§€ κΈ°λ‹¤λ¦΄ ν•„μ”κ°€ μ—†λ‹¤.
- **Search Engine Optimization and Social Network Shareability**
  - λ λ”λ§λ HTMLμ€ κ²€μƒ‰ μ—”μ§„ λ΄‡μ΄ νμ΄μ§€λ¥Ό μΈλ±μ‹±ν•κ³ , μ†μ… λ„¤νΈμ›ν¬ λ΄‡μ΄ νμ΄μ§€μ λ―Έλ¦¬λ³΄κΈ°λ¥Ό μƒμ„±ν•λ” λ° μ‚¬μ©λ  μ μλ‹¤.
- **Streaming**
  - μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ λ λ”λ§ μ‘μ—…μ„ μ²­ν¬λ΅ λ¶„ν• ν•μ—¬ μ¤€λΉ„λλ” λ€λ΅ ν΄λΌμ΄μ–ΈνΈμ— μ¤νΈλ¦¬λ°ν•  μ μλ‹¤. μ΄λ ‡κ² ν•λ©΄ μ‚¬μ©μκ°€ νμ΄μ§€μ μΌλ¶€λ¥Ό λ” λΉ¨λ¦¬ λ³Ό μ μλ‹¤.

# Next.jsμ—μ„ μ„λ²„ μ»΄ν¬λ„νΈ μ‚¬μ©ν•κΈ°

κΈ°λ³Έμ μΌλ΅ Next.jsλ” μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ‹¤. μ΄λ¥Ό ν†µν•΄ μ¶”κ°€μ μΈ μ„¤μ • μ—†μ΄ μλ™μΌλ΅ μ„λ²„ λ λ”λ§μ„ κµ¬ν„ν•  μ μμΌλ©°, ν•„μ”μ— λ”°λΌ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ„ νƒμ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

# μ„λ²„ μ»΄ν¬λ„νΈ λ λ”λ§ λ°©μ‹

μ„λ²„μ—μ„ Next.jsλ” Reactμ APIλ¥Ό μ‚¬μ©ν•μ—¬ λ λ”λ§μ„ μ΅°μ‘ν•λ‹¤. λ λ”λ§ μ‘μ—…μ€ κ°λ³„ κ²½λ΅ μ„Έκ·Έλ¨ΌνΈμ™€ Suspense κ²½κ³„μ— λ”°λΌ μ²­ν¬λ΅ λ¶„ν• λλ‹¤.

κ° μ²­ν¬λ” λ‘ λ‹¨κ³„λ΅ λ λ”λ§λλ‹¤.

1. Reactλ” μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό React μ„λ²„ μ»΄ν¬λ„νΈ νμ΄λ΅λ“ (RSC νμ΄λ΅λ“)λΌλ” νΉλ³„ν• λ°μ΄ν„° ν•μƒ‰μΌλ΅ λ λ”λ§ν•λ‹¤.
2. Next.jsλ” RSC νμ΄λ΅λ“μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ JavaScript μ§€μΉ¨μ„ μ‚¬μ©ν•μ—¬ μ„λ²„μ—μ„ HTMLμ„ λ λ”λ§ν•λ‹¤.

κ·Έλ° λ‹¤μ, ν΄λΌμ΄μ–ΈνΈμ—μ„λ”:

- HTMLμ„ μ‚¬μ©ν•μ—¬ μ΄κΈ° νμ΄μ§€ λ΅λ“ μ‹ λΉ λ¥Έ λΉ„μƒνΈμ‘μ© λ―Έλ¦¬λ³΄κΈ°λ¥Ό μ¦‰μ‹ ν‘μ‹ν•λ‹¤.
- RSC νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό μ΅°μ •ν•κ³  DOMμ„ μ—…λ°μ΄νΈν•λ‹¤.
- JavaScript μ§€μΉ¨μ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν•μ΄λ“λ μ΄μ…ν•κ³  μ• ν”λ¦¬μΌ€μ΄μ…μ„ μƒνΈμ‘μ© κ°€λ¥ν•κ² λ§λ“ λ‹¤.

<aside>
π

React Server Component Payload (RSC)λ” λ¬΄μ—‡μΈκ°€?
RSC νμ΄λ΅λ“λ” λ λ”λ§λ React μ„λ²„ μ»΄ν¬λ„νΈ νΈλ¦¬μ μ••μ¶•λ μ΄μ§„ ν‘ν„μ΄λ‹¤. Reactλ” ν΄λΌμ΄μ–ΈνΈμ—μ„ μ΄λ¥Ό μ‚¬μ©ν•μ—¬ λΈλΌμ°μ €μ DOMμ„ μ—…λ°μ΄ν‹€ν•λ‹¤. RSC νμ΄λ΅λ“μ—λ” λ‹¤μμ΄ ν¬ν•¨λλ‹¤.

- μ„λ²„ μ»΄ν¬λ„νΈμ λ λ”λ§ κ²°κ³Ό
- ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λ λ”λ§λ  μ„μΉμ— λ€ν• ν”λ μ΄μ¤ ν™€λ”μ™€ ν•΄λ‹Ή JavaScript νμΌμ— λ€ν• μ°Έμ΅°
- μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ „λ‹¬λ λ¨λ“  props
</aside>

# μ„λ²„ λ λ”λ§ μ „λµλ“¤

μ„λ²„ λ λ”λ§μ—λ” μ •μ , λ™μ , μ¤νΈλ¦¬λ° (Static, Dynamic, Streaming)μ μ„Έ κ°€μ§€ ν•μ„ λ²”μ£Όκ°€ μλ‹¤.

## Static Rendering (Default)

μ •μ  λ λ”λ§μ—μ„λ” κ²½λ΅κ°€ λΉλ“ μ‹μ  λλ” λ°μ΄ν„° μ¬κ²€μ¦ ν›„ λ°±κ·ΈλΌμ΄λ“μ—μ„ λ λ”λ§λλ‹¤. κ²°κ³Όλ” μΊμ‹λμ–΄ CDNμ— ν‘Έμ‹λ  μ μλ‹¤. μ΄λ¬ν• μµμ ν™”λ” λ λ”λ§ μ‘μ—…μ κ²°κ³Όλ¥Ό μ‚¬μ©μμ™€ μ„λ²„ μ”μ²­ κ°„μ— κ³µμ ν•  μ μκ² ν•΄μ¤€λ‹¤.

μ •μ  λ λ”λ§μ€ κ²½λ΅μ λ°μ΄ν„°κ°€ μ‚¬μ©μλ³„λ΅ κ°μΈν™”λμ§€ μ•κ³  λΉλ“ μ‹μ μ— μ• μ μλ” μ •μ μΈ λΈ”λ΅κ·Έ κ²μ‹κΈ€ νΉμ€ μƒν’ νμ΄μ§€ λ“±μ— μ μ©ν•λ‹¤.

## Dynamic Rendering

λ™μ  λ λ”λ§μ—μ„λ” κ° μ‚¬μ©μμ μ”μ²­ μ‹μ μ— κ²½λ΅κ°€ λ λ”λ§λλ‹¤.

λ™μ  λ λ”λ§μ€ μ‚¬μ©μλ³„λ΅ κ°μΈν™”λ λ°μ΄ν„°λ‚ μ”μ²­ μ‹μ μ—λ§ μ• μ μλ” μ •λ³΄(μΏ ν‚¤ λλ” URLμ searchparams λ“±)λ¥Ό ν¬ν•¨ν•λ” κ²½λ΅μ— μ μ©ν•λ‹¤.

λ€λ¶€λ¶„μ μ›Ήμ‚¬μ΄νΈλ” μ™„μ „ν μ •μ μ΄κ±°λ‚ μ™„μ „ν λ™μ μΈ κ²½λ΅λ΅ κµ¬μ„±λμ§€ μ•κ³ , κ·Έ μ¤‘κ°„ μ–΄λ”κ°€μ— μ„μΉν•λ‹¤. μλ¥Ό λ“¤μ–΄, μ „μμƒκ±°λ νμ΄μ§€λ” μΌμ • κ°„κ²©μΌλ΅ μ¬κ²€μ¦λλ” μΊμ‹λ μ ν’ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•λ©΄μ„λ„, κ°μΈν™”λ κ³ κ° λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•  μ μλ‹¤.

Next.jsμ—μ„λ” μΊμ‹λ λ°μ΄ν„°μ™€ μΊμ‹λμ§€ μ•μ€ λ°μ΄ν„°λ¥Ό λ¨λ‘ μ‚¬μ©ν•λ” λ™μ μΌλ΅ λ λ”λ§λ κ²½λ΅λ¥Ό κ°€μ§ μ μλ‹¤. μ΄λ” RSC νμ΄λ΅λ“μ™€ λ°μ΄ν„°κ°€ λ³„λ„λ΅ μΊμ‹λκΈ° λ•λ¬Έμ— κ°€λ¥ν•λ‹¤. μ΄λ¥Ό ν†µν•΄ λ¨λ“  λ°μ΄ν„°λ¥Ό μ”μ²­ μ‹ κ°€μ Έμ¤λ” μ„±λ¥ μν–¥μ„ κ±±μ •ν•μ§€ μ•κ³  λ™μ  λ λ”λ§μ„ μ„ νƒν•  μ μλ‹¤.

λ λ”λ§ μ¤‘μ— λ™μ  ν•¨μλ‚ μΊμ‹λμ§€ μ•μ€ λ°μ΄ν„° μ”μ²­μ΄ λ°κ²¬λλ©΄, Next.jsλ” μ „μ²΄ κ²½λ΅λ¥Ό λ™μ μΌλ΅ λ λ”λ§ν•λ„λ΅ μ „ν™ν•λ‹¤.

![image.png](attachment:58f6ed23-656c-4939-9cd6-7bee51bb221a:image.png)

μ„ ν‘μ—μ„ μ• μ μλ“―μ΄, κ²½λ΅κ°€ μ™„μ „ν μ •μ μΌλ΅ λ λ”λ§λλ ¤λ©΄ λ¨λ“  λ°μ΄ν„°κ°€ μΊμ‹λμ–΄μ•Ό ν•λ‹¤. κ·Έλ¬λ‚ μΊμ‹λ λ°μ΄ν„° ν¨μΉ­κ³Ό μΊμ‹λμ§€ μ•μ€ λ°μ΄ν„° ν¨μΉ­μ„ λ¨λ‘ μ‚¬μ©ν•λ” λ™μ μΌλ΅ λ λ”λ§λ κ²½λ΅λ¥Ό κ°€μ§ μ μλ‹¤.

### Dynamic Functions

λ™μ  ν•¨μλ” μ‚¬μ©μμ μΏ ν‚¤, ν„μ¬ μ”μ²­ ν—¤λ” λλ” URL SearchParamsμ™€ κ°™μ΄ μ”μ²­ μ‹μ—λ§ μ•μ μλ” μ •λ³΄μ— μμ΅΄ν•λ‹¤.

Next.jsμ—μ„λ” μ΄λ¬ν• λ™μ  ν•¨μλ” λ‹¤μκ³Ό κ°™λ‹¤

- [\*\*`cookies()`](https://nextjs.org/docs/14/app/api-reference/functions/cookies)Β andΒ [`headers()`](https://nextjs.org/docs/14/app/api-reference/functions/headers)\*\*:
  - μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ΄λ¥Ό μ‚¬μ©ν•λ©΄ μ „μ²΄ κ²½λ΅κ°€ μ”μ²­ μ‹ λ™μ μΌλ΅ λ λ”λ§λλ‹¤.
- [**`searchParams`**](https://nextjs.org/docs/14/app/api-reference/file-conventions/page#searchparams-optional):
  - page μ—μ„ μ΄ propμ„ μ‚¬μ©ν•λ©΄ ν•΄λ‹Ή νμ΄μ§€λ” μ”μ²­ μ‹ λ™μ μΌλ΅ λ λ”λ§λλ‹¤.

μ΄λ¬ν• ν•¨μλ“¤ μ¤‘ ν•λ‚λ¥Ό μ‚¬μ©ν•λ©΄ μ „μ²΄ κ²½λ΅κ°€ μ”μ²­ μ‹ λ™μ μΌλ΅ λ λ”λ§λλ‹¤.

## Streaming

![image.png](attachment:796fe37a-4127-4325-8ddf-50f9a6f3c681:image.png)

μ¤νΈλ¦¬λ°μ„ ν†µν•΄ μ„λ²„μ—μ„ UIλ¥Ό μ μ§„μ μΌλ΅ λ λ”λ§ν•  μ μλ‹¤. μ‘μ—…μ€ μ²­ν¬λ΅ λ¶„ν• λμ–΄ μ¤€λΉ„λλ” λ€λ΅ ν΄λΌμ΄μ–ΈνΈμ— μ¤νΈλ¦¬λ°λλ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μλ” μ „μ²΄ νμ΄μ§€κ°€ μ„λ²„μ—μ„ λ λ”λ§λ  λ•κΉμ§€ κΈ°λ‹¤λ¦¬μ§€ μ•κ³ λ„ νμ΄μ§€μ μΌλ¶€λ¥Ό μ¦‰μ‹ λ³Ό μ μλ‹¤.

μ¤νΈλ¦¬λ°μ€ Next.jsμ μ•± λΌμ°ν„°μ— κΈ°λ³Έμ μΌλ΅ λ‚΄μ¥λμ–΄ μλ‹¤. μ΄λ” μ΄κΈ° νμ΄μ§€ λ΅λ”© μ„±λ¥μ„ ν–¥μƒμ‹ν‚¤λ©°, λ λ”λ§μ„ μ§€μ—°μ‹ν‚¤λ” λλ¦° λ°μ΄ν„° νμΉ­μ— μμ΅΄ν•λ” UIμ—λ„ μ μ©ν•λ‹¤.

μλ¥Ό λ“¤μ–΄, μ ν’ νμ΄μ§€μ λ¦¬λ·° μ„Ήμ… λ“±μ΄ μ΄μ— ν•΄λ‹Ήλλ‹¤.

`loading.js` μ™€ Reactμ `Susepnse` λ¥Ό μ‚¬μ©ν•μ” κ²½λ΅ μ„Έκ·Έλ¨ΌνΈμ™€ UI μ»΄ν¬λ„νΈλ¥Ό μ¤νΈλ¦¬λ°ν•  μ μ΄μ‹Ώ.

---

# Client Components

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ μ„λ²„μ—μ„ λ―Έλ¦¬ λ λ”λ§λ μΈν„°λ™ν‹°λΈν• UIλ¥Ό μ‘μ„±ν•κ³ , λΈλΌμ°μ €μ—μ„ ν΄λΌμ΄μ–ΈνΈ JavaScriptλ¥Ό μ‹¤ν–‰ν•  μ μλ‹¤.

# ν΄λΌμ΄μ–ΈνΈ λ λ”λ§μ μ΄μ 

- μƒνΈμ‘μ©μ„±: ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” state, effects, event listenerλ¥Ό μ‚¬μ©ν•  μ μμ–΄, μ‚¬μ©μμ—κ² μ¦‰κ°μ μΈ ν”Όλ“λ°±μ„ μ κ³µν•κ³  UIλ¥Ό μ—…λ°μ΄νΈν•  μ μλ‹¤.
- λΈλΌμ°μ € API μ ‘κ·Ό: geolocationμ΄λ‚ localStorageμ™€ κ°™μ€ λΈλΌμ°μ € APIμ— μ ‘κ·Όν•  μ μλ‹¤.

# Next.jsμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ‚¬μ©ν•κΈ°

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ ¤λ©΄, νμΌ μƒλ‹¨μ import λ¬Έ μ„μ— Reactμ `use client` μ§€μ‹μ–΄λ¥Ό μ¶”κ°€ν•λ©΄ λλ‹¤.

`use client` λ” μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ¨λ“ κ°„μ κ²½κ³„λ¥Ό μ„ μ–Έν•λ” λ° μ‚¬μ©λλ‹¤. μ¦‰, νμΌμ— `use client` λ¥Ό μ •μν•λ©΄, ν•΄λ‹Ή νμΌμ— import λ λ¨λ“  λ¨λ“κ³Ό μμ‹ μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ μΌλ¶€λ΅ κ°„μ£Όλλ‹¤.

![image.png](attachment:a419a32a-c2bf-47e5-9a12-fdd963255566:image.png)

λ§μ•½ μ¤‘μ²©λ μ»΄ν¬λ„νΈ(toggle.js)μ—μ„ onClickμ΄λ‚ useStateλ¥Ό μ‚¬μ©ν•  λ• `use client` μ§€μ‹μ–΄κ°€ μ •μλμ–΄ μμ§€ μ•μΌλ©΄ μ¤λ¥κ°€ λ°μƒν•λ‹¤.

μ΄λ” κΈ°λ³Έμ μΌλ΅ μ•± λΌμ°ν„°μ λ¨λ“  μ»΄ν¬λ„νΈκ°€ μ΄λ¬ν• APIλ¥Ό μ‚¬μ©ν•  μ μ—†λ” μ„λ²„ μ»΄ν¬λ„νΈμ΄κΈ° λ•λ¬Έμ΄λ‹¤. toggle.jsμ—μ„ `use client` μ§€μ‹μ–΄λ¥Ό μ •μν•¨μΌλ΅μ¨, Reactμ—κ² μ΄λ¬ν• APIλ¥Ό μ‚¬μ©ν•  μ μλ” ν΄λΌμ΄μ–ΈνΈ κ²½κ³„μ„μ„ μ•λ ¤μ¤„ μ μλ‹¤.

React μ»΄ν¬λ„νΈ νΈλ¦¬μ—μ„ μ—¬λ¬ `use client` μ§„μ…μ μ„ μ •μν•  μ μλ‹¤. μ΄λ¥Ό ν†µν•΄ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤λ΅ λ¶„ν• ν•  μ μλ‹¤. κ·Έλ¬λ‚ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•΄μ•Ό ν•λ” λ¨λ“  μ»΄ν¬λ„νΈ `use client` λ¥Ό μ •μν•  ν•„μ”λ” μ—†λ‹¤. ν• λ² κ²½κ³„λ¥Ό μ •μν•λ©΄, κ·Έ μ•μ— Import λ λ¨λ“  μμ‹ μ»΄ν¬λ„νΈμ™€ λ¨λ“μ΄ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ μΌλ¶€λ΅ κ°„μ£ΌλκΈ° λ•λ¬Έμ΄λ‹¤.

<aside>
π

**λ£¨νΈ λ μ΄μ•„μ›ƒμ— `use client` μ„ μ–Έ μ‹, ν•μ„ μ„Έκ·Έλ¨ΌνΈμ— ν•΄λ‹Ήν•λ” λ¨λ“  μ»΄ν¬λ„νΈλ“¤μ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμΈκ°€?**

β†’ λ£¨νΈ λ μ΄μ•„μ›ƒμ— `"use client"` μ§€μ‹μ–΄λ¥Ό μ„ μ–Έν•λ©΄, ν•΄λ‹Ή λ μ΄μ•„μ›ƒ μ»΄ν¬λ„νΈμ™€ κ·Έ λ‚΄λ¶€μ— ν¬ν•¨λ λ¨λ“  μ»΄ν¬λ„νΈκ°€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ κ°„μ£Όλλ‹¤. μ΄λ” ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ ν¬κΈ°λ¥Ό μ¦κ°€μ‹μΌ μ„±λ¥ μ €ν•λ¥Ό μ λ°ν•  μ μμΌλ―€λ΅, λ£¨νΈ λ μ΄μ•„μ›ƒμ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ„¤μ •ν•λ” κ²ƒμ€ κ¶μ¥λμ§€ μ•λ”λ‹¤.

λ”°λΌμ„, λ£¨νΈ λ μ΄μ•„μ›ƒμ€ μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ μ§€ν•κ³ , ν΄λΌμ΄μ–ΈνΈ μΈ΅ κΈ°λ¥μ΄ ν•„μ”ν• κ²½μ°μ—λ” ν•΄λ‹Ή κΈ°λ¥μ„ λ³„λ„μ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ¶„λ¦¬ν•μ—¬ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ ν¬κΈ°λ¥Ό μµμ†ν™”ν•κ³  μ• ν”λ¦¬μΌ€μ΄μ…μ μ„±λ¥μ„ μµμ ν™”ν•  μ μλ‹¤.

**λ£¨νΈ λ μ΄μ•„μ›ƒμ„ μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ μ§€ν•λ©΄μ„ ν΄λΌμ΄μ–ΈνΈ μΈ΅ κΈ°λ¥μ„ κµ¬ν„ν•λ ¤λ©΄ μ–΄λ–»κ² ν•΄μ•Ό ν• κΉ?**
β†’ λ£¨νΈ λ μ΄μ•„μ›ƒμ€ μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ μ§€ν•λ©΄μ„λ„ ν΄λΌμ΄μ–ΈνΈ μΈ΅ κΈ°λ¥μ΄ ν•„μ”ν• λ¶€λ¶„μ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ¶„λ¦¬ν•μ—¬ κµ¬ν„ν•  μ μλ‹¤. μ΄λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ ν¬κΈ°λ¥Ό μµμ†ν™”ν•κ³  μ• ν”λ¦¬μΌ€μ΄μ…μ μ„±λ¥μ„ μµμ ν™”ν•  μ μλ‹¤.

</aside>

# ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ λ”λ§ λ°©μ‹

Next.jsμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ”μ²­μ΄ μ „μ²΄ νμ΄μ§€ λ΅λ“(μ• ν”λ¦¬μΌ€μ΄μ… μ²« λ°©λ¬Έμ΄λ‚ λΈλΌμ°μ € μƒλ΅κ³ μΉ¨μ— μν• νμ΄μ§€ λ¦¬λ΅λ“)μΈμ§€, μ•„λ‹λ©΄ ν›„μ† νƒμƒ‰μΈμ§€μ— λ”°λΌ λ‹¤λ¥΄κ² λ λ”λ§λλ‹¤.

## μ „μ²΄ νμ΄μ§€ λ΅λ“(Full Page Load):

μ΄κΈ° νμ΄μ§€ λ΅λ“λ¥Ό μµμ ν™”ν•κΈ° μ„ν•΄, Next.jsλ” Reactμ APIλ¥Ό ν™μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„ μ»΄ν¬λ„νΈ λ¨λ‘μ— λ€ν•΄ μ •μ  HTML λ―Έλ¦¬λ³΄κΈ°λ¥Ό μ„λ²„μ—μ„ λ λ”λ§ν•λ‹¤.

μ΄κΈ° νμ΄μ§€ λ΅λ“λ¥Ό μµμ ν™”ν•κΈ° μ„ν•΄, Next.jsλ” Reactμ APIλ¥Ό ν™μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„ μ»¤λ«‚λ„νΈ λ¨λ‘μ— λ€ν•΄ μ •μ  HTML λ―Έλ¦¬λ³΄κΈ°λ¥Ό μ„λ²„μ—μ„ λ λ”λ§ν•λ‹¤. μ¦‰, μ‚¬μ©μκ°€ μ²μμΌλ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°©λ¬Έν•λ©΄, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ JavaScript λ²λ“¤μ„ λ‹¤μ΄λ΅λ“, νμ‹±, μ‹¤ν–‰ν•  ν•„μ” μ—†μ΄ νμ΄μ§€μ λ‚΄μ©μ„ μ¦‰μ‹ λ³Ό μ μλ‹¤.

μ„λ²„μ—μ„λ” λ‹¤μκ³Ό κ°™μ€ κ³Όμ •μ΄ μ§„ν–‰λλ‹¤.

1. Reactλ” μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— λ€ν• μ°Έμ΅°λ¥Ό ν¬ν•¨ν• νΉλ³„ν• λ°μ΄ν„° ν•μ‹μΈ React μ„λ²„ μ»΄ν¬λ„νΈ νμ΄λ΅λ“ (RSC νμ΄λ΅λ“)λ΅ λ λ”λ§ν•λ‹¤.
2. Next.jsλ” RSC νμ΄λ΅λ“μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ JavaScript μ§€μ‹μ‚¬ν•­μ„ μ‚¬μ©ν•μ—¬ μ„λ²„μ—μ„ ν•΄λ‹Ή κ²½λ΅μ— λ€ν• HTMLμ„ λ λ”λ§ν•λ‹¤.

κ·Έλ°λ‹¤ μ, ν΄λΌμ΄μ–ΈνΈμ—μ„λ”

1. HTMLμ„ μ‚¬μ©ν•μ—¬ κ²½λ΅μ λΉ λ¥Έ λΉ„μƒνΈμ‘μ© μ΄κΈ° λ―Έλ¦¬λ³΄κΈ°λ¥Ό μ¦‰μ‹ ν‘μ‹ν•λ‹¤.
2. React μ„λ²„ μ»΄ν¬λ„νΈ νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό μ΅°μ •ν•κ³  DOMμ„ μ—…λ°μ΄νΈν•λ‹¤.
3. JavaScript μ§€μ‹μ‚¬ν•­μ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν•μ΄λ“λ μ΄μ…ν•κ³  UIλ¥Ό μƒνΈμ‘μ© κ°€λ¥ν•κ² λ§λ“ λ‹¤.

- **μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ λ”λ§ λ°©μ‹ μ°¨μ΄**
    <aside>
    π
    
    **μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ λ”λ§ λ°©μ‹ μ°¨μ΄ μ΅°μ‚¬**
    
    ---
    
    ### μ£Όμ” μ°¨μ΄μ  μ”μ•½
    
    - **λ λ”λ§ μ„μΉ:**
        - *μ„λ²„ μ»΄ν¬λ„νΈ:* μ„λ²„μ—μ„ μ‹¤ν–‰λμ–΄ RSC νμ΄λ΅λ“λ¥Ό μƒμ„±ν•κ³  HTMLμ„ κµ¬μ„±.
        - *ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ:* ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‹¤ν–‰λλ©°, μ΄κΈ° λ΅λ“λ” μ„λ²„μ—μ„ λ λ”λ§ν• HTMLμ„ μ‚¬μ©ν•μ§€λ§ ν›„μ† νƒμƒ‰ μ‹ μ „μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§λ¨.
    - **ν•μ΄λ“λ μ΄μ… ν•„μ”μ„±:**
        - *μ„λ²„ μ»΄ν¬λ„νΈ:* κ²°κ³Όλ§ μ „λ‹¬λλ―€λ΅ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ³„λ„μ ν•μ΄λ“λ μ΄μ… κ³Όμ •μ„ κ±°μΉμ§€ μ•μ.
        - *ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ:* μ΄κΈ° HTML λ―Έλ¦¬λ³΄κΈ°λ¥Ό ν•μ΄λ“λ μ΄μ…ν•μ—¬ μΈν„°λ™ν‹°λΈν•κ² λ§λ“¦.
    - **λ°μ΄ν„° μ „λ‹¬ λ° μ—…λ°μ΄νΈ:**
        - *μ„λ²„ μ»΄ν¬λ„νΈ:* μ••μ¶•λ RSC νμ΄λ΅λ“λ¥Ό ν†µν•΄ DOM μ—…λ°μ΄νΈλ¥Ό μ„ν• λ°μ΄ν„°κ°€ μ „λ‹¬λ¨.
        - *ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ:* ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ΄ λ‹¤μ΄λ΅λ“λμ–΄ μ‹¤ν–‰λλ©°, κ·Έ κ²°κ³Όλ΅ μΈν„°λ™ν‹°λΈν• UIκ°€ κµ¬μ„±λ¨.
    - **μ„±λ¥ μµμ ν™”:**
        - *μ„λ²„ μ»΄ν¬λ„νΈ:* λ¶ν•„μ”ν• ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ JavaScriptλ¥Ό μ¤„μ—¬ μ΄κΈ° λ΅λ“ μ‹κ°„μ„ κ°μ„ ν•κ³ , λ„¤νΈμ›ν¬ λ¶€ν•λ¥Ό λ‚®μ¶¤.
        - *ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ:* μ‚¬μ©μ μΈν„°λ™μ… λ° λ™μ  κΈ°λ¥μ„ μ κ³µν•μ§€λ§, κ·Έλ§νΌ λ²λ“¤ ν¬κΈ°μ™€ ν•μ΄λ“λ μ΄μ… μ¤λ²„ν—¤λ“κ°€ λ°μƒν•  μ μμ.
    
    ---
    
    ### κ²°λ΅ 
    
    μ„λ²„ μ»΄ν¬λ„νΈλ” μ„λ²„μ—μ„ λ λ”λ§λμ–΄ κ²°κ³Όλ§ μ „λ‹¬λλ―€λ΅, ν΄λΌμ΄μ–ΈνΈμ— λ¶€λ‹΄μ„ μ£Όμ§€ μ•κ³  λΉ λ¥Έ μ΄κΈ° λ΅λ“λ¥Ό κ°€λ¥ν•κ² ν•©λ‹λ‹¤. λ°λ©΄, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μΈν„°λ™ν‹°λΈν• κΈ°λ¥μ„ μ κ³µν•κΈ° μ„ν•΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‹¤ν–‰λμ–΄μ•Ό ν•λ―€λ΅, ν•μ΄λ“λ μ΄μ… λ° λ²λ“¤ μ‹¤ν–‰ κ³Όμ •μ„ κ±°μΉ©λ‹λ‹¤. μ΄ λ‘ λ°©μ‹μ€ κ°κΈ° λ‹¤λ¥Έ μ©λ„μ™€ μ„±λ¥ μµμ ν™” μ „λµμ„ μ κ³µν•λ©°, Next.jsλ” μƒν™©μ— λ§κ² μ΄λ“¤μ„ μ΅°ν•©ν•μ—¬ μ‚¬μ©μκ°€ λΉ λ¥΄κ³  ν¨μ¨μ μΈ μ›Ή κ²½ν—μ„ ν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤.
    
    </aside>

### ν•μ΄λ“λ μ΄μ…μ΄λ€? \*Hydration

ν•μ΄λ“λ μ΄μ…μ€ μ΄λ²¤νΈ λ¦¬μ¤λ„λ¥Ό DOMμ— μ—°κ²°ν•μ—¬ μ •μ  HTMLμ„ μƒνΈμ‘μ© κ°€λ¥ν•κ² λ§λ“λ” κ³Όμ •μ΄λ‹¤. λ°±κ·ΈλΌμ΄λ“μ—μ„λ” Reactμ `hydrateRoot` APIλ¥Ό μ‚¬μ©ν•μ—¬ μν–‰λλ‹¤.

## ν›„μ† νƒμƒ‰(Subsequent Navigations)

ν›„μ† νƒμƒ‰μ—μ„λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ μ„λ²„μ—μ„ λ λ”λ§λ HTML μ—†μ΄ μ „μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§λλ‹¤.

μ΄λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ JavaScript λ²λ“¤μ΄ λ‹¤μ΄λ΅λ“λκ³  νμ‹±λλ‹¤λ” κ²ƒμ„ μλ―Έν•λ‹¤. λ²λ“¤μ΄ μ¤€λΉ„λλ©΄, Reactλ” RSC νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ™€ μ„λ²„ μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό μ΅°μ •(reconcile)ν•μ—¬ DOMμ„ μ—…λ°μ΄νΈν•λ‹¤.

- **ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ λ”λ§λλ”λ° μ–΄λ–»κ² RSC νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•λ”κ°€?**
    <aside>
    π
    
    **ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ λ”λ§λλ”λ° μ–΄λ–»κ² RSC νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•λ”κ°€?**
    
    ν›„μ† νƒμƒ‰μ—μ„ "ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ λ”λ§λλ‹¤"λ” κ²ƒμ€, μ‚¬μ©μκ°€ νμ΄μ§€λ¥Ό μ²μ λ°©λ¬Έν• μ΄ν›„μ λ„¤λΉ„κ²μ΄μ…μ—μ„λ” μ΄λ―Έ μ„λ²„μ—μ„ μ™„μ„±λ HTMLμ„ κ·Έλ€λ΅ λ°›μ•„μ¤λ” κ²ƒμ΄ μ•„λ‹λΌ, ν΄λΌμ΄μ–ΈνΈκ°€ JavaScript λ²λ“¤μ„ μ΄μ©ν•΄ ν™”λ©΄μ„ μ—…λ°μ΄νΈν•λ‹¤λ” μλ―Έμ…λ‹λ‹¤. κ·Έλ ‡μ§€λ§ μ΄λ•λ„ μ„λ²„λ” μƒλ΅μ΄ κ²½λ΅μ— ν•΄λ‹Ήν•λ” λ°μ΄ν„°λ¥Ό RSC νμ΄λ΅λ“λΌλ” ν•νƒλ΅ λ³΄λ‚΄κ² λ©λ‹λ‹¤.
    
    μ¦‰, ν›„μ† νƒμƒ‰ μ‹μ—λ” λ‹¤μκ³Ό κ°™μ€ κ³Όμ •μ΄ μ§„ν–‰λ©λ‹λ‹¤:
    
    1. ν΄λΌμ΄μ–ΈνΈλ” μ‚¬μ©μκ°€ μƒλ΅μ΄ κ²½λ΅λ΅ μ΄λ™ν•  λ• μ„λ²„μ— ν•΄λ‹Ή κ²½λ΅μ— ν•„μ”ν• λ°μ΄ν„°λ¥Ό μ”μ²­ν•©λ‹λ‹¤.
    2. μ„λ²„λ” μ΄ μ”μ²­μ— λ€ν•΄ ν•΄λ‹Ή κ²½λ΅μ μ„λ²„ μ»΄ν¬λ„νΈ κ²°κ³Όλ¬Όμ„ RSC νμ΄λ΅λ“λ΅ μƒμ„±ν•μ—¬ μ‘λ‹µν•©λ‹λ‹¤.
    3. ν΄λΌμ΄μ–ΈνΈλ” λ―Έλ¦¬ λ‹¤μ΄λ΅λ“λ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ JavaScript λ²λ“¤μ„ μ΄μ©ν•΄, μ΄ RSC νμ΄λ΅λ“λ¥Ό κΈ°λ°μΌλ΅ κΈ°μ΅΄ μ»΄ν¬λ„νΈ νΈλ¦¬μ™€ μƒ λ°μ΄ν„°λ¥Ό "μ΅°μ •(reconcile)"ν•©λ‹λ‹¤.
    4. μ΄ κ³Όμ •μ„ ν†µν•΄ DOMμ΄ μ—…λ°μ΄νΈλμ–΄ μƒλ΅μ΄ νμ΄μ§€κ°€ ν™”λ©΄μ— λ λ”λ§λ©λ‹λ‹¤.
    
    μ¦‰, ν›„μ† νƒμƒ‰μ—μ„λ” μ „μ²΄ HTMLμ„ μ„λ²„κ°€ μ§μ ‘ μ „μ†΅ν•λ” λ€μ‹ , ν•„μ”ν• λ°μ΄ν„°(μ„λ²„ μ»΄ν¬λ„νΈμ κ²°κ³Ό)λ¥Ό RSC νμ΄λ΅λ“ ν•νƒλ΅ λ°›μ•„ ν΄λΌμ΄μ–ΈνΈκ°€ μμ²΄μ μΌλ΅ λ λ”λ§ λ° μ—…λ°μ΄νΈλ¥Ό μν–‰ν•λ” κ²ƒμ…λ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ” μ΄λ―Έ λ‹¤μ΄λ΅λ“λ λ²λ“¤μ„ ν™μ©ν•μ—¬ ν¨μ¨μ μΌλ΅ νμ΄μ§€ μ „ν™μ„ μ²λ¦¬ν•  μ μμµλ‹λ‹¤.
    
    </aside>

# μ„λ²„ ν™κ²½μΌλ΅ λμ•„κ°€κΈ°

λ•λ•λ΅ `use client` λ΅ κ²½κ³„λ¥Ό μ„ μ–Έν• ν›„μ—λ„ μ„λ²„ ν™κ²½μΌλ΅ λμ•„κ°€κ³  μ‹¶μ„ μκ°€ μλ‹¤.

μλ¥Ό λ“¤μ–΄, ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ ν¬κΈ°λ¥Ό μ¤„μ΄κ±°λ‚ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κ±°λ‚, μ„λ²„μ—μ„λ§ μ‚¬μ© κ°€λ¥ν• APIλ¥Ό μ‚¬μ©ν•κ³ μ ν•  μ μλ‹¤.

## μ΄λ΅ μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ•μ— μ¤‘μ²©λμ–΄ μλ”λΌλ„, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ™€ μ„λ²„ μ»΄ν¬λ„νΈ, κ·Έλ¦¬κ³  μ„λ²„ μ•΅μ…μ„ λ²κ°μ•„(interleaving) μ‚¬μ©ν•¨μΌλ΅μ¨ μ½”λ“λ¥Ό μ„λ²„μ— μ μ§€ν•  μ μλ‹¤.

# Composition Pattern

# μ–Έμ  μ„λ²„ νΉμ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•΄μ•Ό ν• κΉ?

| μν–‰ν•λ ¤λ” μ‘μ—…                                                                 | μ„λ²„ μ»΄ν¬λ„νΈ | ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ |
| ------------------------------------------------------------------------------- | ------------- | ------------------- |
| λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κΈ°                                                               | β”οΈ            |                     |
| λ°±μ—”λ“ λ¦¬μ†μ¤μ— μ§μ ‘ μ ‘κ·Όν•κΈ°                                                   | β”οΈ            |                     |
| μ•΅μ„Έμ¤ ν† ν°, API ν‚¤ λ“± λ―Όκ°ν• μ •λ³΄λ¥Ό μ„λ²„μ— μ μ§€ν•κΈ°                            | β”οΈ            |                     |
| ν° μμ΅΄μ„±μ„ μ„λ²„μ— μ μ§€ν•κ±°λ‚ ν΄λΌμ΄μ–ΈνΈ μΈ΅ JavaScriptλ¥Ό μ¤„μ΄κΈ°                 | β”οΈ            |                     |
| μƒνΈμ‘μ© λ° μ΄λ²¤νΈ λ¦¬μ¤λ„ μ¶”κ°€ν•κΈ° (`onClick()`, `onChange()` λ“±)               |               | β”οΈ                  |
| μƒνƒ λ° μƒλ…μ£ΌκΈ° ν¨κ³Ό μ‚¬μ©ν•κΈ° (`useState()`, `useReducer()`, `useEffect()` λ“±) |               | β”οΈ                  |
| λΈλΌμ°μ € μ „μ© API μ‚¬μ©ν•κΈ°                                                      |               | β”οΈ                  |
| μƒνƒ, ν¨κ³Ό λλ” λΈλΌμ°μ € μ „μ© APIμ— μμ΅΄ν•λ” μ»¤μ¤ν…€ ν›… μ‚¬μ©ν•κΈ°                 |               | β”οΈ                  |
| React ν΄λμ¤ μ»΄ν¬λ„νΈ μ‚¬μ©ν•κΈ°                                                  |               | β”οΈ                  |

# μ„λ²„ μ»΄ν¬λ„νΈ ν¨ν„΄

ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ λ”λ§μ„ μ„ νƒν•κΈ° μ „, μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κ±°λ‚ λ°μ΄ν„°λ² μ΄μ¤ λλ” λ°±μ—”λ“ μ„λΉ„μ¤μ— μ ‘κ·Όν•λ” λ“±μ μ‘μ—…μ„ μν–‰ν•  μ μλ‹¤.

λ‹¤μμ€ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•  λ€μ μΌλ°μ μΈ ν¨ν„΄λ“¤μ΄λ‹¤.

## 1. μ»΄ν¬λ„νΈ κ°„μ λ°μ΄ν„° κ³µμ ν•κΈ°

μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¬ λ•, μ—¬λ¬ μ»΄ν¬λ„νΈμ—μ„ λ™μΌν• λ°μ΄ν„°λ¥Ό κ³µμ ν•΄μ•Ό ν•λ” κ²½μ°κ°€ μμ„ μ μλ‹¤. μλ¥Ό λ“¤μ–΄, λ μ΄μ•„μ›ƒκ³Ό νμ΄μ§€κ°€ λ™μΌν• λ°μ΄ν„°μ— μμ΅΄ν•λ” κ²½μ°μ΄λ‹¤.

React Contextλ¥Ό μ‚¬μ©ν•κ±°λ‚ λ°μ΄ν„°λ¥Ό propsλ΅ μ „λ‹¬ν•λ” λ€μ‹ , `fetch` λλ” Reactμ `cache` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ ν•„μ”ν• μ»΄ν¬λ„νΈμ—μ„ λ™μΌν• λ°μ΄ν„°λ¥Ό κ°€μ Έμ¬ μ μλ‹¤. μ΄λ¥Ό ν†µν•΄ λ™μΌν• λ°μ΄ν„°μ— λ€ν• μ¤‘λ³µ μ”μ²­μ„ κ±±μ •ν•  ν•„μ”κ°€ μ—†λ‹¤. μ΄λ” Reactκ°€ `fetch` λ¥Ό ν™•μ¥ν•μ—¬ λ°μ΄ν„° μ”μ²­μ„ μλ™μΌλ΅ λ©”λ¨μ΄μ μ΄μ…ν•κ³ , `fetch` λ¥Ό μ‚¬μ©ν•  μ μ—†λ” κ²½μ° `cache` ν•¨μλ¥Ό μ‚¬μ©ν•  μ μκΈ° λ•λ¬Έμ΄λ‹¤.

## 2. μ„λ²„ μ „μ© μ½”λ“λ¥Ό ν΄λΌμ΄μ–ΈνΈ ν™κ²½μ—μ„ μ μ™Έν•κΈ°

μλ°”μ¤ν¬λ¦½νΈ λ¨λ“μ€ μ„λ²„ λ° ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ¨λ“ κ°„μ— κ³µμ λ  μ μμΌλ―€λ΅, μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ„λ΅ μλ„λ μ½”λ“κ°€ ν΄λΌμ΄μ–ΈνΈλ΅ μ μ…λ  μ μλ‹¤.

```tsx
// lib/data.ts
export async function getData() {
  const res = await fetch("https://external-service.com/data", {
    headers: {
      authorization: process.env.API_KEY,
    },
  });
  return res.json();
}
```

μ²μμ—λ” `getData` ν•¨μκ°€ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘μ—μ„ μ‘λ™ν•λ” κ²ƒμ²λΌ λ³΄μΈλ‹¤. κ·Έλ¬λ‚ μ΄ ν•¨μλ” `API_KEY`λ¥Ό ν¬ν•¨ν•κ³  μμΌλ©°, μ΄λ” μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ„λ΅ μ‘μ„±λμ—λ‹¤.

ν™κ²½ λ³€μ `API_KEY`λ” `NEXT_PUBLIC`λ΅ μ ‘λ‘μ–΄κ°€ λ¶™μ§€ μ•μ•κΈ° λ•λ¬Έμ—, μ„λ²„μ—μ„λ§ μ ‘κ·Όν•  μ μλ” λΉ„κ³µκ° λ³€μμ΄λ‹¤. ν™κ²½ λ³€μκ°€ ν΄λΌμ΄μ–ΈνΈλ΅ μ μ¶λλ” κ²ƒμ„ λ°©μ§€ν•κΈ° μ„ν•΄, Next.jsλ” λΉ„κ³µκ° ν™κ²½ λ³€μλ¥Ό λΉ λ¬Έμμ—΄λ΅ λ€μ²΄ν•λ‹¤.

κ²°κ³Όμ μΌλ΅, `getData()`λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ κ°€μ Έμ™€ μ‹¤ν–‰ν•λ”λΌλ„ μμƒλ€λ΅ μ‘λ™ν•μ§€ μ•λ”λ‹¤. λ³€μλ¥Ό κ³µκ°ν•λ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ ν•¨μκ°€ μ‘λ™ν•κ² μ§€λ§, λ―Όκ°ν• μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶ν•κ³  μ‹¶μ§€ μ•μ„ μ μλ‹¤.

μ΄λ¬ν• μλ„μΉ μ•μ€ ν΄λΌμ΄μ–ΈνΈμ—μ„μ μ„λ²„ μ½”λ“ μ‚¬μ©μ„ λ°©μ§€ν•κΈ° μ„ν•΄, `server-only` ν¨ν‚¤μ§€λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤λ¥Έ κ°λ°μκ°€ μ΄λ¬ν• λ¨λ“μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— μ‹¤μλ΅ κ°€μ Έμ¤μ§€ μ•λ„λ΅ λΉλ“ μ‹ μ¤λ¥λ¥Ό λ°μƒμ‹ν‚¬ μ μλ‹¤.

```bash
npm install server-only
```

```jsx
// lib/data.js
import "server-only";

export async function getData() {
  const res = await fetch("https://external-service.com/data", {
    headers: {
      authorization: process.env.API_KEY,
    },
  });
  return res.json();
}
```

μ΄μ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ `getData()`λ¥Ό κ°€μ Έμ¤λ©΄, μ΄ λ¨λ“μ€ μ„λ²„μ—μ„λ§ μ‚¬μ©ν•  μ μλ‹¤λ” λΉλ“ μ‹ μ¤λ¥κ°€ λ°μƒν•λ‹¤.

`client-only` ν¨ν‚¤μ§€λ” `window` κ°μ²΄μ— μ ‘κ·Όν•λ” μ½”λ“μ™€ κ°™μ΄ ν΄λΌμ΄μ–ΈνΈ μ „μ© μ½”λ“λ¥Ό ν¬ν•¨ν•λ” λ¨λ“μ„ ν‘μ‹ν•λ” λ° μ‚¬μ©ν•  μ μλ‹¤.

## 3. μ„λ“ νν‹° ν¨ν‚¤μ§€ λ° ν”„λ΅λ°”μ΄λ” μ‚¬μ©ν•κΈ°

μ„λ²„ μ»΄ν¬λ„νΈλ” μƒλ΅μ΄ React κΈ°λ¥μ΄λ―€λ΅, μƒνƒκ³„μ μ„λ“νν‹° ν¨ν‚¤μ§€ λ° ν”„λ΅λ°”μ΄λ”λ” `useState` , `createContenxt` μ™€ κ°™μ€ ν΄λΌμ΄μ–ΈνΈ μ „μ© κΈ°λ¥μ„ μ‚¬μ©ν•λ” μ»΄ν¬λ„νΈμ— `use client` μ§€μ‹μ–΄λ¥Ό μ¶”κ°€ν•κΈ° μ‹μ‘ν–λ‹¤.

μ¤λλ‚ , ν΄λΌμ΄μ–ΈνΈ μ „μ© κΈ°λ¥μ„ μ‚¬μ©ν•λ” npm ν¨ν‚¤μ§€μ λ§μ€ μ»΄ν¬λ„νΈλ” μ•„μ§ μ§€μ‹μ–΄λ¥Ό κ°€μ§€κ³  μμ§€ μ•λ‹¤.

μ΄λ¬ν• μ„λ“νν‹° μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ μμƒλ€λ΅ μ‘λ™ν•μ§€λ§, μ„λ²„ μ»΄ν¬λ„νΈ λ‚΄μ—μ„λ” μ‘λ™ν•μ§€ μ•λ”λ‹¤.

μλ¥Ό λ“¤μ–΄, `use state` λ¥Ό μ‚¬μ©ν•λ” Carousel μ»΄ν¬λ„νΈλ¥΄ κ°€μ§„ κ°€μƒμ `acme-carousel` ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν–λ‹¤κ³  λ³΄μ.

μ΄ μ»΄ν¬λ„νΈλ” μ•„μ§ `use client` μ§€μ‹μ–΄λ¥Ό κ°€μ§€κ³  μμ§€ μ•λ”λ‹¤.

Carousel μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ μ‚¬μ©ν•λ©΄ μμƒλ€λ΅ λ™μ‘ν•μ§€λ§, μ΄λ¥Ό μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ λ°”λ΅ μ‚¬μ©ν•κ² λλ‹¤λ©΄, `{/* Error: useState can not be used within Server Components */}` μ™€ κ°™μ€ μ—λ¬λ¥Ό λ§μ£Όν•κ² λ  κ²ƒμ΄λ‹¤.

```tsx
import { Carousel } from "acme-carousel";

export default function Page() {
  return (
    <div>
      <p>View pictures</p>

      {/* Error: `useState` can not be used within Server Components */}
      <Carousel />
    </div>
  );
}
```

μ΄λ” Carousel μ»΄ν¬λ„νΈκ°€ ν΄λΌμ΄μ–ΈνΈ μ „μ© κΈ°λ¥μ„ μ‚¬μ©ν•κ³  μλ‹¤λ” κ²ƒμ€ Next.jsμ—μ„ μΈμ‹ν•μ§€ λ»ν•κ² λ•λ¬Έμ—, μ΄λ¬ν• μ»΄ν¬λ„νΈλ¥Ό μ„λ²„ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ μ§μ ‘ μ‚¬μ©ν•  κ²½μ° μ¤λ¥κ°€ λ°μƒν•  μ μλ‹¤. μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄, ν•΄λ‹Ή μ„λ“νν‹° μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ κ°μ‹Έμ•Ό ν•λ‹¤.

1. λ¨Όμ € ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ κ°μ‹Έλ” νμΌμ„ μƒμ„±ν•λ‹¤.

   ```tsx
   // app/carousel.tsx
   "use client";

   import { Carousel } from "acme-carousel";

   export default Carousel;
   ```

2. μ„λ²„ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ μ΄ κ°μ‹Ό μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν• μ μλ‹¤.

   ```tsx
   // app/page.tsx
   import Carousel from "./carousel";

   export default function Page() {
     return (
       <div>
         <p>View pictures</p>
         {/* Carouselμ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ΄λ―€λ΅ μ •μƒμ μΌλ΅ λ™μ‘ν•©λ‹λ‹¤ */}
         <Carousel />
       </div>
     );
   }
   ```

λ€λ¶€λ¶„μ μ„λ“νν‹° μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ μ‚¬μ©λλ―€λ΅ λ³„λ„μ μ²λ¦¬κ°€ ν•„μ”ν•μ§€ μ•μ„ μ μλ‹¤. κ·Έλ¬λ‚ Reactμ μƒνƒμ™€ μ»¨ν…μ¤νΈλ¥Ό μ‚¬μ©ν•λ” Providerμ™€ κ°™μ€ κ²½μ°μ—λ” μ• ν”λ¦¬μΌ€μ΄μ…μ λ£¨νΈμ—μ„ μ‚¬μ©λκΈ° λ•λ¬Έμ— λ³„λ„μ μ²λ¦¬κ°€ ν•„μ”ν•  μ μλ‹¤.

### Context Providers μ‚¬μ©ν•κΈ°

Reactμ Context Providerλ” μ „μ—­μ μΈ μƒνƒλ¥Ό κ΄€λ¦¬ν•κΈ° μ„ν•΄ μ• ν”λ¦¬μΌ€μ΄μ…μ λ£¨νΈμ— λ°°μΉλλ” κ²½μ°κ°€ λ§λ‹¤.

κ·Έλ¬λ‚ μ„λ²„ μ»΄ν¬λ„νΈμ—μ„λ” Reactμ μ»¨ν…μ¤νΈλ¥Ό μ§€μ›ν•μ§€ μ•μΌλ―€λ΅, μ΄λ¥Ό μ§μ ‘ μ‚¬μ©ν•λ ¤κ³  ν•λ©΄ μ¤λ¥κ°€ λ°μƒν•λ‹¤.

μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄, μ»¨ν…μ¤νΈλ¥Ό μƒμ„±ν•κ³  μ΄λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ Providerλ΅ κ°μ‹Έμ•Ό ν•λ‹¤.

μλ¥Ό λ“¤μ–΄, ν…λ§λ¥Ό κ΄€λ¦¬ν•λ” `ThemeContext` λ¥Ό μƒμ„±ν•κ³  μ΄λ¥Ό Providerλ΅ μ‚¬μ©ν•λ” λ°©λ²•μ€ λ‹¤μκ³Ό κ°™λ‹¤.

```tsx
// app/theme-provider.tsx
"use client";

import { createContext } from "react";

export const ThemeContext = createContext({});

export default function ThemeProvider({
  children,
}: {
  children: React.ReactNode;
}) {
  return <ThemeContext.Provider value="dark">{children}</ThemeContext.Provider>;
}
```

κ·Έλ° λ‹¤μ, μ„λ²„ μ»΄ν¬λ„νΈμΈ λ£¨νΈ λ μ΄μ•„μ›ƒμ—μ„ μ΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ‹¤.

```tsx
// app/layout.tsx
import ThemeProvider from "./theme-provider";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html>
      <body>
        <ThemeProvider>{children}</ThemeProvider>
      </body>
    </html>
  );
}
```

μ΄λ ‡κ² ν•λ©΄ μ• ν”λ¦¬μΌ€μ΄μ…μ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ `ThemeContext` λ¥Ό μ‚¬μ©ν•  μ μλ‹¤. Providerλ” κ°€λ¥ν• ν• νΈλ¦¬μ κΉμ€ κ³³μ— λ λ”λ§ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, `ThemeProvider`κ°€ `{children}`λ§μ„ κ°μ‹Έκ³  `<html>` μ „μ²΄λ¥Ό κ°μ‹Έμ§€ μ•λ” λ°©μ‹μ„ μ‚¬μ©ν•λ©΄, Next.jsκ°€ μ„λ²„ μ»΄ν¬λ„νΈμ μ •μ  λ¶€λ¶„μ„ μµμ ν™”ν•λ” λ° λ„μ›€μ΄ λλ‹¤.

μ΄λ¬ν• μ ‘κ·Ό λ°©μ‹μ€ λ¶ν•„μ”ν• ν΄λΌμ΄μ–ΈνΈ μΈ΅ JavaScript λ²λ“¤ ν¬κΈ°λ¥Ό μ¤„μ΄κ³ , μ΄κΈ° λ΅λ”© μ‹κ°„μ„ λ‹¨μ¶•ν•λ©°, μ „λ°μ μΈ μ• ν”λ¦¬μΌ€μ΄μ… μ„±λ¥μ„ ν–¥μƒμ‹ν‚¨λ‹¤.

λν•, Providerλ¥Ό νΈλ¦¬μ κΉμ€ κ³³μ— λ°°μΉν•λ©΄, μƒνƒλ‚ μ»¨ν…μ¤νΈκ°€ ν•„μ”ν• μ»΄ν¬λ„νΈμ—λ§ μ μ©λμ–΄ λ¶ν•„μ”ν• μƒνƒ κ΄€λ¦¬λ΅ μΈν• μ„±λ¥ μ €ν•λ¥Ό λ°©μ§€ν•  μ μλ‹¤.

μ΄λ¬ν• μ „λµμ€ Next.jsμ μλ™ μ •μ  μµμ ν™” κΈ°λ¥κ³Ό κ²°ν•©λμ–΄ λ”μ± ν¨μ¨μ μΈ μ• ν”λ¦¬μΌ€μ΄μ…μ„ κµ¬μ¶•ν•λ” λ° κΈ°μ—¬ν•λ‹¤.

### λΌμ΄λΈλ¬λ¦¬ κ°λ°μλ¥Ό μ„ν• μ΅°μ–Έ

λ§μ°¬κ°€μ§€λ΅, λ‹¤λ¥Έ κ°λ°μλ“¤μ΄ μ‚¬μ©ν•  ν¨ν‚¤μ§€λ¥Ό λ§λ“λ” λΌμ΄λΈλ¬λ¦¬ κ°λ°μλ“¤μ€ ν¨ν‚¤μ§€μ ν΄λΌμ΄μ–ΈνΈ μ§„μ…μ μ„ ν‘μ‹ν•κΈ° μ„ν•΄ `use client` μ§€μ‹μ–΄λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

μ΄λ¥Ό ν†µν•΄ ν¨ν‚¤μ§€ μ‚¬μ©μκ°€ λν•‘ κ²½κ³„λ¥Ό λ§λ“¤ ν•„μ” μ—†μ΄ ν¨ν‚¤μ§€ μ»΄ν¬λ„νΈλ¥Ό μ§μ ‘ μ„λ²„ μ»΄ν¬λ„νΈμ— κ°€μ Έμ¬ μ μλ‹¤.

ν¨ν‚¤μ§€μ `use client` μ§€μ‹μ–΄λ¥Ό μ»΄ν¬λ„νΈ νΈλ¦¬μ λ” κΉμ€ κ³³μ— μ‚¬μ©ν•μ—¬, κ°€μ Έμ¨ λ¨λ“μ΄ μ„λ²„ μ»΄ν¬λ„νΈ λ¨λ“ κ·Έλν”„μ μΌλ¶€κ°€ λλ„λ΅ μµμ ν™”ν•  μ μλ‹¤.

# ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ

## 1. ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό νΈλ¦¬ ν•μ„λ΅ μ΄λ™μ‹ν‚¤κΈ°

ν΄λΌμ΄μ–ΈνΈ μλ°”μ¤ν¬λ¦½νΈ λ²λ“¤ ν¬κΈ°λ¥Ό μ¤„μ΄κΈ° μ„ν•΄, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ»΄ν¬λ„νΈ νΈλ¦¬μ ν•μ„λ΅ μ΄λ™μ‹ν‚¤λ” κ²ƒμ΄ μΆ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, μ •μ μΈ μ”μ†(λ΅κ³ ,λ§ν¬ λ“±)μ™€ μƒνƒλ¥Ό μ‚¬μ©ν•λ” μΈν„°λ™ν‹°λΈ κ²€μƒ‰ μ°½μ΄ ν¬ν•¨λ λ μ΄μ•„μ›ƒμ΄ μλ‹¤κ³  κ°€μ •ν•΄λ³΄μ.

μ „μ²΄ λ μ΄μ•„μ›ƒμ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ§λ“λ” λ€μ‹ , μƒν¨μ‘μ© λ΅μ§μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ΄λ™μ‹ν‚¤κ³ , (Searchbar λ“±) λ μ΄μ•„μ›ƒμ€ μ„λ²„ μ»΄ν¬λ„νΈ μ μ§€ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

μ΄λ ‡κ² ν•λ©΄ λ μ΄μ•„μ›ƒμ λ¨λ“  μ»΄ν¬λ„νΈ μλ°”μ¤ν¬λ¦½νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ν•  ν•„μ”κ°€ μ—†λ‹¤.

```tsx
// SearchBar is a Client Component
import SearchBar from "./searchbar";
// Logo is a Server Component
import Logo from "./logo";

// Layout is a Server Component by default
export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <>
      <nav>
        <Logo />
        <SearchBar />
      </nav>
      <main>{children}</main>
    </>
  );
}
```

## 2. μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ props μ „λ‹¬ν•κΈ° (μ§λ ¬ν™”)

μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨ ν›„, μ΄λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ propsλ΅ μ „λν•κ³ μ ν•  μ μλ‹¤. μ΄λ•, μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ „λ‹¬λλ” propsλ” Reactμ—μ„ μ§λ ¬ν™”ν•  μ μμ–΄μ•Ό ν•λ‹¤.

μ§λ ¬ν™”λ€ λ°μ΄ν„° κµ¬μ΅°λ‚ κ°μ²΄ μƒνƒλ¥Ό μ €μ¥ν•κ±°λ‚ μ „μ†΅ν•κΈ° μ„ν•΄ μΌλ ¨μ λ°”μ΄νΈλ‚ λ¬Έμμ—΄λ΅ λ³€ν™ν•λ” κ³Όμ •μ„ λ§ν•λ‹¤.

μ΄ κ³Όμ •μ—μ„ ν•¨μλ‚ Date κ°μ²΄μ™€ κ°™μ€ μΌλ¶€ λ°μ΄ν„° νƒ€μ…μ€ μ§λ ¬ν™” ν•  μ μ—†κΈ° λ•λ¬Έμ—, μ΄λ¬ν• λ°μ΄ν„°λ¥Ό μ§μ ‘ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ „λ‹¬ν•  μ μ—†λ‹¤.

λ”°λΌμ„, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ μ§λ ¬ν™”ν•  μ μ—†λ” λ°μ΄ν„°μ— μμ΅΄ν•λ” κ²½μ°, ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ§μ ‘ κ°€μ Έμ¤κ±°λ‚, μ„λ²„μ λΌμ°νΈ ν•Έλ“¤λ¬λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ κ³µλ°›λ” λ°©μ‹μ„ κ³ λ ¤ν•΄μ•Ό ν•λ‹¤.

# μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ κµμ°¨ μ‚¬μ©ν•κΈ°

μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό νΌν•©ν•μ—¬ μ‚¬μ©ν•  λ•, UIλ¥Ό μ»΄ν¬λ„νΈ νΈλ¦¬λ΅ μ‹κ°ν™”ν•λ” κ²ƒμ΄ λ„μ›€μ΄ λ  μ μλ‹¤.

λ£¨νΈ λ μ΄μ•„μ›ƒμ€ μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ‹μ‘ν•λ©°, `use client` μ§€μ‹λ¬Έμ„ μ¶”κ°€ν•μ—¬ νΉμ • ν•μ„ νΈλ¦¬λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•λ„λ΅ μ§€μ •ν•  μ μλ‹¤.

μ΄λ¬ν• ν΄λΌμ΄μ–ΈνΈ ν•μ„ νΈλ¦¬ λ‚΄μ—μ„λ„ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ¤‘μ²©ν•κ±°λ‚ μ„λ²„ μ•΅μ…μ„ νΈμ¶ν•  μ μμ§€λ§, λ‹¤μ μ‚¬ν•­μ„ μ μν•΄μ•Ό ν•λ‹¤:

- **μ”μ²­-μ‘λ‹µ λΌμ΄ν”„μ‚¬μ΄ν΄ λ™μ•**:
  - μ½”λ“λ” μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ΄λ™ν•λ‹¤.
  - ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„μ λ°μ΄ν„°λ‚ λ¦¬μ†μ¤μ— μ ‘κ·Όν•΄μ•Ό ν•λ‹¤λ©΄, μƒλ΅μ΄ μ„λ²„ μ”μ²­μ„ μν–‰ν•κ² λλ©°, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ„ μ¤κ°€λ” λ°©μ‹μ€ μ•„λ‹λ‹¤.
- **μƒλ΅μ΄ μ„λ²„ μ”μ²­ μ‹**:
  - λ¨λ“  μ„λ²„ μ»΄ν¬λ„νΈλ” λ¨Όμ € λ λ”λ§λλ©°, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄λ¶€μ— μ¤‘μ²©λ μ„λ²„ μ»΄ν¬λ„νΈλ„ ν¬ν•¨λλ‹¤. λ λ”λ§ κ²°κ³Ό(RSC νμ΄λ΅λ“)λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ μ„μΉμ— λ€ν• μ°Έμ΅°λ¥Ό ν¬ν•¨ν•κ² λλ‹¤. μ΄ν›„ ν΄λΌμ΄μ–ΈνΈμ—μ„ Reactλ” RSC νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό λ‹¨μΌ νΈλ¦¬λ΅ ν†µν•©ν•λ‹¤.
- **ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ„λ²„ μ»΄ν¬λ„νΈ μ΄ν›„μ— λ λ”λ§λλ―€λ΅**, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ¨λ“μ—μ„ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ„ν¬νΈν•  μ μ—†λ‹¤. λ€μ‹ , μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ propsλ΅ μ „λ‹¬ν•  μ μλ‹¤.

## **μ§€μ›λμ§€ μ•λ” ν¨ν„΄: ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ μ„λ²„ μ»΄ν¬λ„νΈ μ„ν¬νΈν•κΈ°**

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ„ν¬νΈν•  μ μ—†λ‹¤:

```tsx
"use client";

// μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ„ν¬νΈν•  μ μ—†λ‹¤.
import ServerComponent from "./Server-Component";

export default function ClientComponent({
  children,
}: {
  children: React.ReactNode;
}) {
  const [count, setCount] = useState(0);

  return (
    <>
      <button onClick={() => setCount(count + 1)}>{count}</button>

      <ServerComponent />
    </>
  );
}
```

## **μ§€μ›λλ” ν¨ν„΄: μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ propsλ΅ μ „λ‹¬ν•κΈ°**

μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ propsλ΅ μ „λ‹¬ν•  μ μλ‹¤.

μΌλ°μ μΈ ν¨ν„΄μ€ Reactμ `children` propμ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— "μ¬λ΅―"μ„ λ§λ“λ” κ²ƒμ΄λ‹¤.

μ•„λ μμ‹μ—μ„ `<ClientComponent>`λ” `children` propμ„ λ°›λ‹¤:

```tsx
"use client";

import { useState } from "react";

export default function ClientComponent({
  children,
}: {
  children: React.ReactNode;
}) {
  const [count, setCount] = useState(0);

  return (
    <>
      <button onClick={() => setCount(count + 1)}>{count}</button>
      {children}
    </>
  );
}
```

`<ClientComponent>`λ” `children`μ΄ κ²°κµ­ μ„λ²„ μ»΄ν¬λ„νΈμ κ²°κ³Όλ΅ μ±„μ›μ§ κ²ƒμ΄λΌλ” κ²ƒμ„ μ•μ§€ λ»ν•λ‹¤. `<ClientComponent>`μ μ μΌν• μ±…μ„μ€ `children`μ΄ μµμΆ…μ μΌλ΅ λ°°μΉλ  μ„μΉλ¥Ό κ²°μ •ν•λ” κ²ƒμ΄λ‹¤.

μƒμ„ μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ `<ClientComponent>`μ™€ `<ServerComponent>`λ¥Ό λ¨λ‘ μ„ν¬νΈν•κ³ , `<ServerComponent>`λ¥Ό `<ClientComponent>`μ μμ‹μΌλ΅ μ „λ‹¬ν•  μλ‹¤:

```tsx
import ClientComponent from "./client-component";
import ServerComponent from "./server-component";

// Next.jsμ νμ΄μ§€λ” κΈ°λ³Έμ μΌλ΅ μ„λ²„ μ»΄ν¬λ„νΈμ΄λ‹¤.
export default function Page() {
  return (
    <ClientComponent>
      <ServerComponent />
    </ClientComponent>
  );
}
```

μ΄ μ ‘κ·Ό λ°©μ‹μΌλ΅ `<ClientComponent>`μ™€ `<ServerComponent>`λ” λ¶„λ¦¬λμ–΄ λ…λ¦½μ μΌλ΅ λ λ”λ§λ  μ μλ‹¤. μ΄ κ²½μ°, μμ‹μΈ `<ServerComponent>`λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λ λ”λ§λκΈ° ν›¨μ”¬ μ „μ— μ„λ²„μ—μ„ λ λ”λ§λ  μ μλ‹¤.

**μ•μ•„λ‘λ©΄ μΆ‹μ€ μ :**

- "λ‚΄μ© μ¬λ¦¬κΈ°(lifting content up)" ν¨ν„΄μ€ λ¶€λ¨ μ»΄ν¬λ„νΈκ°€ λ¦¬λ λ”λ§λ  λ• μ¤‘μ²©λ μμ‹ μ»΄ν¬λ„νΈμ λ¦¬λ λ”λ§μ„ ν”Όν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤.
- `children` propμ— μ ν•λμ§€ μ•λ”λ‹¤. JSXλ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄ μ–΄λ–¤ propμ΄λ“  μ‚¬μ©ν•  μ μλ‹¤.

---

# Edge and Node.js Runtimes

Next.jsμ—μ„λ” μ„λ²„μ—μ„ μ½”λ“λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•λ‘ κ°€μ§€ λ°νƒ€μ„μ„ μ κ³µν•λ‹¤

1. Node.js λ°νƒ€μ„ (κΈ°λ³Έκ°’): λ¨λ“  Node.js APIμ™€ νΈν™λλ” ν¨ν‚¤μ§€μ— μ ‘κ·Όν•  μ μλ‹¤.
2. Edge λ°νƒ€μ„: Web APIλ¥Ό κΈ°λ°μΌλ΅ ν•λ©°, λ” μ ν•λ API μ„ΈνΈλ¥Ό μ κ³µν•λ‹¤.

**λ°νƒ€μ„ μ°¨μ΄μ **

| νΉμ„±                         | Node.js     | Edge           |
| ---------------------------- | ----------- | -------------- |
| μ½λ“ λ¶€νΈ μ‹κ°„               | λ³΄ν†µ        | λ‚®μ           |
| HTTP μ¤νΈλ¦¬λ° μ§€μ›           | μ          | μ             |
| I/O μ§€μ›                     | λ¨λ“  I/O    | `fetch`λ§ μ§€μ› |
| ν™•μ¥μ„±                       | λ³΄ν†µ        | λ§¤μ° λ†’μ      |
| λ³΄μ•                         | λ³΄ν†µ        | λ†’μ           |
| μ§€μ—° μ‹κ°„                    | λ³΄ν†µ        | λ§¤μ° λ‚®μ      |
| npm ν¨ν‚¤μ§€ νΈν™μ„±            | λ¨λ“  ν¨ν‚¤μ§€ | μΌλ¶€ ν¨ν‚¤μ§€    |
| μ •μ  λ λ”λ§ μ§€μ›             | μ          | μ•„λ‹μ”         |
| λ™μ  λ λ”λ§ μ§€μ›             | μ          | μ             |
| `fetch`λ¥Ό ν†µν• λ°μ΄ν„° μ¬κ²€μ¦ | μ          | μ             |

- **μ½λ“ λ¶€νΈ μ‹κ°„**: μ„λ²„λ¦¬μ¤ ν•¨μκ°€ μ²μ νΈμ¶λ  λ• μ΄κΈ°ν™”λλ” λ° κ±Έλ¦¬λ” μ‹κ°„. Node.js λ°νƒ€μ„μ€ μΌλ°μ μΌλ΅ μ΄κΈ°ν™” μ‹κ°„μ΄ λ” κΈΈμ§€λ§, Edge λ°νƒ€μ„μ€ μ¦‰κ°μ μΈ μ΄κΈ°ν™”λ¥Ό μ κ³µν•λ‹¤.
- **HTTP μ¤νΈλ¦¬λ° μ§€μ›**: λ‘ λ°νƒ€μ„ λ¨λ‘ HTTP μ¤νΈλ¦¬λ°μ„ μ§€μ›ν•μ—¬, ν΄λΌμ΄μ–ΈνΈμ—κ² λ°μ΄ν„°λ¥Ό μ μ§„μ μΌλ΅ μ „μ†΅ν•  μ μλ‹¤.
- **I/O μ§€μ›**: Node.js λ°νƒ€μ„μ€ νμΌ μ‹μ¤ν… μ ‘κ·Ό λ“± λ¨λ“  μΆ…λ¥μ I/O μ‘μ—…μ„ μ§€μ›ν•λ‹¤. λ°λ©΄, Edge λ°νƒ€μ„μ€ `fetch`λ¥Ό ν†µν• λ„¤νΈμ›ν¬ μ”μ²­λ§μ„ μ§€μ›ν•λ©°, νμΌ μ‹μ¤ν… μ ‘κ·Όμ€ μ ν•λλ‹¤.
- **ν™•μ¥μ„±**: Edge λ°νƒ€μ„μ€ μ „ μ„Έκ³„μ— λ¶„μ‚°λ μ—£μ§€ μ„λ²„μ—μ„ μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ―€λ΅, λ†’μ€ ν™•μ¥μ„±μ„ μ κ³µν•λ‹¤. Node.js λ°νƒ€μ„μ€ ν™•μ¥μ„±μ΄ μ ν•μ μΌ μ μλ‹¤.
- **λ³΄μ•**: Edge λ°νƒ€μ„μ€ μ ν•λ μ‹¤ν–‰ ν™κ²½μΌλ΅ μΈν•΄ λ³΄μ•μ„±μ΄ λ†’λ‹¤. Node.js λ°νƒ€μ„μ€ λ” λ§μ€ κ¶ν•μ„ κ°€μ§€λ―€λ΅, λ³΄μ• μ·¨μ•½μ μ— λ…Έμ¶λ  κ°€λ¥μ„±μ΄ μλ‹¤.
- **μ§€μ—° μ‹κ°„**: Edge λ°νƒ€μ„μ€ μ‚¬μ©μμ™€ κ°€κΉμ΄ μ„μΉμ—μ„ μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ―€λ΅, μ§€μ—° μ‹κ°„μ΄ λ§¤μ° λ‚®λ‹¤. Node.js λ°νƒ€μ„μ€ μ„λ²„μ μ„μΉμ— λ”°λΌ μ§€μ—° μ‹κ°„μ΄ μ¦κ°€ν•  μ μλ‹¤.
- **npm ν¨ν‚¤μ§€ νΈν™μ„±**: Node.js λ°νƒ€μ„μ€ λ¨λ“  npm ν¨ν‚¤μ§€λ¥Ό μ§€μ›ν•μ§€λ§, Edge λ°νƒ€μ„μ€ μ ν•λ APIλ΅ μΈν•΄ μΌλ¶€ ν¨ν‚¤μ§€λ§ μ§€μ›ν•λ‹¤.
- **μ •μ  λ λ”λ§ μ§€μ›**: Node.js λ°νƒ€μ„μ€ μ •μ  νμ΄μ§€ μƒμ„±μ„ μ§€μ›ν•μ§€λ§, Edge λ°νƒ€μ„μ€ μ΄λ¥Ό μ§€μ›ν•μ§€ μ•λ”λ‹¤.
- **λ™μ  λ λ”λ§ μ§€μ›**: λ‘ λ°νƒ€μ„ λ¨λ‘ λ™μ  μ½ν…μΈ  μƒμ„±μ„ μ§€μ›ν•λ‹¤.
- **`fetch`λ¥Ό ν†µν• λ°μ΄ν„° μ¬κ²€μ¦**: λ‘ λ°νƒ€μ„ λ¨λ‘ `fetch`λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κ³  μ¬κ²€μ¦ν•  μ μλ‹¤.

# Edge λ°νƒ€μ„

edge λ°νƒ€μ„μ€ μ‘μ€ ν¬κΈ°μ λ‹¨μν• ν•¨μλ΅ λ‚®μ€ μ§€μ—° μ‹κ°„μ λ™μ μ΄κ³  κ°μΈν™”λ μ½ν…μΈ λ¥Ό μ κ³µν•  λ• μ΄μƒμ μ΄λ‹¤.

κ·Έλ¬λ‚ λ¦¬μ†μ¤ μ‚¬μ©μ„ μµμ†ν™”ν•μ—¬ μ†λ„λ¥Ό λ†’μ΄κΈ° λ•λ¬Έμ—, μΌλ¶€ Node.js APIλ¥Ό μ§€μ›ν•μ§€ μ•μ•„ νΉμ • npm ν¨ν‚¤μ§€κ°€ μ‘λ™ν•μ§€ μ•μ„ μ μλ‹¤. μλ¥Ό λ“¤μ–΄, νμΌ μ‹μ¤ν…(`fs` ) λ¨λ“μ„ μ‚¬μ©ν•λ” ν¨ν‚¤μ§€λ” Edge λ°νƒ€μ„μ—μ„ μ§€μ›λμ§€ μ•λ”λ‹¤.

λν•, Vercelμ—μ„ edge λ°νƒ€μ„μΌλ΅ μ‹¤ν–‰λλ” μ½”λ“λ” 1mbμ—μ„ 4mb μ‚¬μ΄μ ν¬κΈ° μ ν•μ΄ μλ‹¤. μ΄λ¬ν• μ΄μ λ΅, μ΄λ¬ν• APIλ‚ ν¨ν‚¤μ§€λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ” κ²½μ° Node.js λ°νƒ€μ„μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

# Node.js λ°νƒ€μ„

Node.js λ°νƒ€μ„μ„ μ‚¬μ©ν•λ©΄ λ¨λ“  Node.js APIμ™€ μ΄λ¥Ό μ‚¬μ©ν•λ” npm ν¨ν‚¤μ§€μ— μ ‘κ·Όν•  μ μλ‹¤. κ·Έλ¬λ‚ Edge λ°νƒ€μ„μ„ μ‚¬μ©ν•λ” κ²½λ΅λ³΄λ‹¤ μ‹μ‘ μ†λ„κ°€ λλ¦΄ μ μλ‹¤. Next.js μ• ν”λ¦¬μΌ€μ΄μ…μ„ Node.js μ„λ²„μ— λ°°ν¬ν•λ ¤λ©΄ μΈν”„λΌλ¥Ό κ΄€λ¦¬, ν™•μ¥ λ° κµ¬μ„±ν•΄μ•Ό ν•λ‹¤. λ€μ•μΌλ΅, Vercelκ³Ό κ°™μ€ μ„λ²„λ¦¬μ¤ ν”λ«νΌμ— λ°°ν¬ν•μ—¬ μ΄λ¬ν• μ‘μ—…μ„ λ€μ‹  μ²λ¦¬ν•λ„λ΅ ν•  μ μλ‹¤.

# Serverless Node.js

μ„λ²„λ¦¬μ¤ ν™κ²½μ€ Edge λ°νƒ€μ„λ³΄λ‹¤ λ³µμ΅ν• κ³„μ‚° μ‘μ—…μ„ μ²λ¦¬ν•΄μ•Όν•  λ• μ ν•©ν•λ‹¤. μλ¥Ό λ“¤μ–΄, Vercelμ μ„λ²„λ¦¬μ¤ ν•¨μλ” μ „μ²΄ μ½”λ“ ν¬κΈ°κ°€ 50MBλ΅, κ°€μ Έμ¨ ν¨ν‚¤μ§€, ν°νΈ λ° νμΌμ„ ν¬ν•¨ν•λ‹¤. κ·Έλ¬λ‚ Edge λ°νƒ€μ„μ„ μ‚¬μ©ν•λ” κ²½λ΅μ— λΉ„ν•΄ μ„λ²„λ¦¬μ¤ ν•¨μλ” μ”μ²­μ„ μ²λ¦¬ν•κΈ° μ „μ— μλ°± λ°€λ¦¬μ΄μ λ¶€ν… μ‹κ°„μ΄ ν•„μ”ν•  μ μλ‹¤. μ‚¬μ΄νΈ νΈλν”½ μ–‘μ— λ”°λΌ μ΄λ¬ν• λ¶€ν… μ‹κ°„μ΄ λΉλ²ν•κ² λ°μƒν•  μ μλ‹¤.

# λ°νƒ€μ„ μ„¤μ • μμ‹

Next.js μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ κ°λ³„ κ²½λ΅ μ„Έκ·Έλ¨ΌνΈμ— λ€ν•΄ λ°νƒ€μ„μ„ μ§€μ •ν•  μ μλ‹¤. μ΄λ¥Ό μ„ν•΄ `runtime` μ΄λΌλ” λ³€μλ¥Ό μ„ μ–Έν•κ³  λ‚΄λ³΄λ‚Έλ‹¤. λ³€μλ” λ¬Έμμ—΄μ΄μ–΄μ•Ό ν•λ©°, `node.js` or `edge` κ°’μ„ κ°€μ§μ μλ‹¤.

```tsx
// app/layout.tsx
export const runtime = "edge"; // 'nodejs' (κΈ°λ³Έκ°’) | 'edge'
```

λ μ΄μ•„μ›ƒ μμ¤€μ—μ„ λ°νƒ€μ„μ„ μ •μν•λ©΄ ν•΄λ‹Ή λ μ΄μ•„μ›ƒ μ•„λμ λ¨λ“  κ²½λ΅κ°€ Edge λ°νƒ€μ„μ— μ„ μ‹¤ν–‰λλ‹¤.

μ„Έκ·Έλ¨ΌνΈ λ°νƒ€μ„μ΄ μ„¤μ •λμ§€ μ•μ€ κ²½μ° κΈ°λ³Έμ μΌλ΅ `nodejs` λ°νƒ€μ„μ΄ μ‚¬μ©λλ‹¤.
